(()=>{"use strict";(()=>{function e(e){if(e instanceof Node)return e;{const t=document.querySelector(e);return t||new Error("Cannot find the target by selector: ".concat(e)),t}}function t(e){if(e instanceof Element||e===window)return e;{const t=document.querySelector(e);return t||new Error("Cannot find the target by selector: ".concat(e)),t}}Number.prototype.clamp=function(e,t){return Math.max(e,Math.min(this.valueOf(),t))};const r={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},o={update(){"undefined"!=typeof window&&("PointerEvent"in window?(o.hasApi=!0,o.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(o.hasApi=!0,o.requiresPrefix=!0):(o.hasApi=!1,o.requiresPrefix=void 0),o.maxTouchPoints=o.hasApi&&window.navigator&&window.navigator[o.prefix("maxTouchPoints")]||void 0,o.hasTouch=o.hasApi?o.maxTouchPoints>0:void 0)},prefix:e=>o.requiresPrefix&&r[e]||e};o.update();class i{constructor(t){this.dom={root:e(t)},this.dom.root.classList.add("reveal-wrap"),gsap.set(this.dom.root,{clearProps:"display"}),this.dom.inner=document.createElement("div"),this.dom.inner.classList.add("reveal-wrap__inner"),this.dom.item=document.createElement("div"),this.dom.item.classList.add("reveal-wrap__item"),this.dom.inner.append(this.dom.item),this.dom.item.append(...this.dom.root.childNodes),this.dom.root.append(this.dom.inner),this.dom.root.registerModule("revealWrap",this)}}var n;let s,a,c;function l(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var d=0;function u(e){return"__private_"+d+++"_"+e}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function p(e,t,r){"symbol"==typeof t&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:r?r+" "+t:t})}catch(e){}return e}const{autorun:f,observable:m,action:v}=mobx;document.addEventListener("DOMContentLoaded",(function(){new w("#version-select")}));var g=u("A"),y=u("B");class w{get selected(){return l(this,g)[g]}set selected(e){l(this,g)[g]=e}get fontIsReady(){return l(this,y)[y]}set fontIsReady(e){l(this,y)[y]=e}constructor(e){Object.defineProperty(this,g,{writable:!0,value:(s(this),a(this,null))}),Object.defineProperty(this,y,{writable:!0,value:c(this,!1)}),this.dom={root:t(e)},this.dom.leftBlock=this.dom.root.querySelector(".version-select__block_left .version-select__block-inner"),this.dom.rightBlock=this.dom.root.querySelector(".version-select__block_right .version-select__block-inner"),this.dom.leftBlockDesc=this.dom.leftBlock.querySelector(".version-select__desc"),this.dom.rightBlockDesc=this.dom.rightBlock.querySelector(".version-select__desc"),this.dom.leftBlock.addEventListener("".concat(app.state.pointerType,"over"),(()=>this.setSelected("light"))),this.dom.rightBlock.addEventListener("".concat(app.state.pointerType,"over"),(()=>this.setSelected("full"))),this.starLightTween=gsap.effects.svgStarAnimation(this.dom.root.querySelectorAll(".version-select__block_left .version-select__star")),this.starFullTween=gsap.effects.svgStarAnimation(this.dom.root.querySelectorAll(".version-select__block_right .version-select__star")),this.leftLightningTween=gsap.effects.svgCubicLightningApears(this.dom.root.querySelector(".version-select__block_left .version-select__lightning")),this.rightLightningTween=gsap.effects.svgCubicLightningApears(this.dom.root.querySelector(".version-select__block_right .version-select__lightning")),this.waitForFont(),f((()=>{this.dom.root.setAttribute("data-selected",this.selected)})),f((()=>{this.revealItems(),this.starLightTween.play(),this.starFullTween.play(),setTimeout((()=>{this.leftLightningTween.play(),this.rightLightningTween.play()}),200)})),f((()=>{this.rebuild()})),window.app.windowResizeObserver.on("resize",(()=>this.rebuild()))}rebuild(){this.updateDom()}revealItems(){this.fontIsReady&&setTimeout((()=>{document.querySelectorAll(".reveal-wrap").forEach((e=>e.classList.add("reveal-wrap_active")))}),0)}updateDom(){if(!this.fontIsReady)return"Font is not ready";this.updateDescDom("left"),this.updateDescDom("right")}async waitForFont(){await document.fonts.load("16px RobotoMono"),this.setFontIsReady(!0)}setFontIsReady(e){this.fontIsReady=e}setSelected(e){this.selected=e}updateDescDom(e){var r="".concat(e,"Spliter"),o=this[r],n=this.dom["".concat(e,"BlockDesc")];o?(o.revert(),o.split({type:"lines",linesClass:"line"})):this[r]=new SplitText(n,{type:"lines",linesClass:"line"}),function(e){const r=t(e);Array.from(r.children).forEach((e=>"BR"!==e.tagName&&new i(e)))}(n),setTimeout((()=>{n.classList.add("reveal-wrap_active")}),0)}}n=w,[a,c,s]=function(e,t,r,o,i,n){function s(e,t,r){return function(o,i){return r&&r(o),e[t].call(o,i)}}function a(e,t){for(var r=0;r<e.length;r++)e[r].call(t);return t}function c(e,t,r,o){if("function"!=typeof e&&(o||void 0!==e))throw new TypeError(t+" must "+(r||"be")+" a function"+(o?"":" or undefined"));return e}function l(e,t,r,o,i,n,a,l,d,u,h,f,m){function v(e){if(!m(e))throw new TypeError("Attempted to access private element on non-instance")}var g,y=t[0],w=t[3],b=!l;if(!b){r||Array.isArray(y)||(y=[y]);var _={},S=[],P=3===i?"get":4===i||f?"set":"value";u?(h||f?_={get:p((function(){return w(this)}),o,"get"),set:function(e){t[4](this,e)}}:_[P]=w,h||p(_[P],o,2===i?"":P)):h||(_=Object.getOwnPropertyDescriptor(e,o))}for(var T=e,A=y.length-1;A>=0;A-=r?2:1){var E=y[A],L=r?y[A-1]:void 0,k={},M={kind:["field","accessor","method","getter","setter","class"][i],name:o,metadata:n,addInitializer:function(e,t){if(e.v)throw Error("attempted to call addInitializer after decoration was finished");c(t,"An initializer","be",!0),a.push(t)}.bind(null,k)};try{if(b)(g=c(E.call(L,T,M),"class decorators","return"))&&(T=g);else{var q,x;M.static=d,M.private=u,u?2===i?q=function(e){return v(e),_.value}:(i<4&&(q=s(_,"get",v)),3!==i&&(x=s(_,"set",v))):(q=function(e){return e[o]},(i<2||4===i)&&(x=function(e,t){e[o]=t}));var O=M.access={has:u?m.bind():function(e){return o in e}};if(q&&(O.get=q),x&&(O.set=x),T=E.call(L,f?{get:_.get,set:_.set}:_[P],M),f){if("object"==typeof T&&T)(g=c(T.get,"accessor.get"))&&(_.get=g),(g=c(T.set,"accessor.set"))&&(_.set=g),(g=c(T.init,"accessor.init"))&&S.push(g);else if(void 0!==T)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(T,(h?"field":"method")+" decorators","return")&&(h?S.push(T):_[P]=T)}}finally{k.v=!0}}return(h||f)&&l.push((function(e,t){for(var r=S.length-1;r>=0;r--)t=S[r].call(e,t);return t})),h||b||(u?f?l.push(s(_,"get"),s(_,"set")):l.push(2===i?_[P]:s.call.bind(_[P])):Object.defineProperty(e,o,_)),T}function d(e,t){return Object.defineProperty(e,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:t})}if(arguments.length>=6)var u=n[Symbol.metadata||Symbol.for("Symbol.metadata")];var f=Object.create(null==u?null:u),m=function(e,t,r,o){var i,n,s=[],c=function(t){return function(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?typeof e:"null"));return e}(t)===e},d=new Map;function u(e){e&&s.push(a.bind(null,e))}for(var p=0;p<t.length;p++){var f=t[p];if(Array.isArray(f)){var m=f[1],v=f[2],g=f.length>3,y=16&m,w=!!(8&m),b=0==(m&=7),_=v+"/"+w;if(!b&&!g){var S=d.get(_);if(!0===S||3===S&&4!==m||4===S&&3!==m)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+v);d.set(_,!(m>2)||m)}l(w?e:e.prototype,f,y,g?"#"+v:h(v),m,o,w?n=n||[]:i=i||[],s,w,g,b,1===m,w&&g?c:r)}}return u(i),u(n),s}(e,t,i,f);return r.length||d(e,f),{e:m,get c(){var t=[];return r.length&&[d(l(e,[r],o,e.name,5,f,t),f),a.bind(null,t,e)]}}}(n,[[m,1,"selected"],[m,1,"fontIsReady"],[v,2,"setFontIsReady"],[v,2,"setSelected"]],[]).e})()})();