(()=>{"use strict";(()=>{function t(t){if(t instanceof Node)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}function e(t){if(t instanceof Element||t===window)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};const o={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},i={update(){"undefined"!=typeof window&&("PointerEvent"in window?(i.hasApi=!0,i.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(i.hasApi=!0,i.requiresPrefix=!0):(i.hasApi=!1,i.requiresPrefix=void 0),i.maxTouchPoints=i.hasApi&&window.navigator&&window.navigator[i.prefix("maxTouchPoints")]||void 0,i.hasTouch=i.hasApi?i.maxTouchPoints>0:void 0)},prefix:t=>i.requiresPrefix&&o[t]||t};i.update();class r{constructor(e){this.dom={root:t(e)},this.dom.root.classList.add("reveal-wrap"),gsap.set(this.dom.root,{clearProps:"display"}),this.dom.inner=document.createElement("div"),this.dom.inner.classList.add("reveal-wrap__inner"),this.dom.item=document.createElement("div"),this.dom.item.classList.add("reveal-wrap__item"),this.dom.inner.append(this.dom.item),this.dom.item.append(...this.dom.root.childNodes),this.dom.root.append(this.dom.inner),this.dom.root.registerModule("revealWrap",this)}}var n;let s,a;function c(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var l=0;function d(t){return"__private_"+l+++"_"+t}function m(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function u(t,e,o){"symbol"==typeof e&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:o?o+" "+e:e})}catch(t){}return t}const{autorun:h,action:p,observable:f}=mobx;var v=d("A");class w{get completed(){return c(this,v)[v]}set completed(t){c(this,v)[v]=t}constructor(t){Object.defineProperty(this,v,{writable:!0,value:(s(this),a(this,!1))}),this.dom={root:e(t)},this.selectDomElems(),this.modifyDom(),this.rebuildAnimation(),window.app.state.lightMode&&this.initAnimationsOnHover(),setTimeout((()=>this.initRelatedLogic()),0)}selectDomElems(){}initRelatedLogic(){h((()=>{var t;null!==(t=window.cookiesAgreementPanel)&&void 0!==t&&t.isOpen||this.show()}))}modifyDom(){new SplitText(this.dom.root,{type:"words"}),function(t){const o=e(t);Array.from(o.children).forEach((t=>"BR"!==t.tagName&&new r(t)))}(this.dom.root)}rebuildAnimation(){}initAnimationsOnHover(){}setCompleted(t){this.completed=t}show(){this.revealTimeline.play()}}n=w,[a,s]=function(t,e,o,i,r,n){function s(t,e,o){return function(i,r){return o&&o(i),t[e].call(i,r)}}function a(t,e){for(var o=0;o<t.length;o++)t[o].call(e);return e}function c(t,e,o,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(o||"be")+" a function"+(i?"":" or undefined"));return t}function l(t,e,o,i,r,n,a,l,d,m,h,p,f){function v(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var w,g=e[0],b=e[3],y=!l;if(!y){o||Array.isArray(g)||(g=[g]);var S={},T=[],E=3===r?"get":4===r||p?"set":"value";m?(h||p?S={get:u((function(){return b(this)}),i,"get"),set:function(t){e[4](this,t)}}:S[E]=b,h||u(S[E],i,2===r?"":E)):h||(S=Object.getOwnPropertyDescriptor(t,i))}for(var P=t,A=g.length-1;A>=0;A-=o?2:1){var _=g[A],M=o?g[A-1]:void 0,L={},x={kind:["field","accessor","method","getter","setter","class"][r],name:i,metadata:n,addInitializer:function(t,e){if(t.v)throw Error("attempted to call addInitializer after decoration was finished");c(e,"An initializer","be",!0),a.push(e)}.bind(null,L)};try{if(y)(w=c(_.call(M,P,x),"class decorators","return"))&&(P=w);else{var B,O;x.static=d,x.private=m,m?2===r?B=function(t){return v(t),S.value}:(r<4&&(B=s(S,"get",v)),3!==r&&(O=s(S,"set",v))):(B=function(t){return t[i]},(r<2||4===r)&&(O=function(t,e){t[i]=e}));var q=x.access={has:m?f.bind():function(t){return i in t}};if(B&&(q.get=B),O&&(q.set=O),P=_.call(M,p?{get:S.get,set:S.set}:S[E],x),p){if("object"==typeof P&&P)(w=c(P.get,"accessor.get"))&&(S.get=w),(w=c(P.set,"accessor.set"))&&(S.set=w),(w=c(P.init,"accessor.init"))&&T.push(w);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(P,(h?"field":"method")+" decorators","return")&&(h?T.push(P):S[E]=P)}}finally{L.v=!0}}return(h||p)&&l.push((function(t,e){for(var o=T.length-1;o>=0;o--)e=T[o].call(t,e);return e})),h||y||(m?p?l.push(s(S,"get"),s(S,"set")):l.push(2===r?S[E]:s.call.bind(S[E])):Object.defineProperty(t,i,S)),P}function d(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}if(arguments.length>=6)var h=n[Symbol.metadata||Symbol.for("Symbol.metadata")];var p=Object.create(null==h?null:h),f=function(t,e,o,i){var r,n,s=[],c=function(e){return function(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?typeof t:"null"));return t}(e)===t},d=new Map;function u(t){t&&s.push(a.bind(null,t))}for(var h=0;h<e.length;h++){var p=e[h];if(Array.isArray(p)){var f=p[1],v=p[2],w=p.length>3,g=16&f,b=!!(8&f),y=0==(f&=7),S=v+"/"+b;if(!y&&!w){var T=d.get(S);if(!0===T||3===T&&4!==f||4===T&&3!==f)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+v);d.set(S,!(f>2)||f)}l(b?t:t.prototype,p,g,w?"#"+v:m(v),f,i,b?n=n||[]:r=r||[],s,b,w,y,1===f,b&&w?c:o)}}return u(r),u(n),s}(t,e,r,p);return o.length||d(t,p),{e:f,get c(){var e=[];return o.length&&[d(l(t,[o],i,t.name,5,p,e),p),a.bind(null,e,t)]}}}(n,[[f,1,"completed"],[p,2,"setCompleted"]],[]).e;const g=(t,e)=>{let o,i=null;return function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];i?o=n:(t.call(this,...n),i=setTimeout((()=>{o&&(t.call(this,...n),o=null),i=null}),e))}};(()=>{const t=new Map;new ResizeObserver(g((e=>{e.forEach((e=>{let{target:o}=e;const i=o.getBoundingClientRect();t.get(o).updateInnerHeightStyle(i.height)}))}),10))})();const b=Inputmask("+9 (999) 999-99-99"),y=Inputmask({alias:"currency",groupSeparator:",",autoGroup:!0,digits:0,digitsOptional:!1,clearMaskOnLostFocus:!1,placeholder:""});console.log(y);const S=Inputmask({mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}}});TomSelect.define("linnikov_custom",(function(){this.hook("after","setup",(()=>{const t=document.createElement("span");t.classList.add("icon-nav-check-arrow","ts-state-indicator"),this.control.append(t)})),this.hook("after","open",(()=>{this.dropdown.classList.add("open"),this.dropdown.setAttribute("aria-hidden",!1)})),this.hook("after","close",(()=>{this.dropdown.classList.remove("open"),this.dropdown.setAttribute("aria-hidden",!0),this.blur()}))})),$.validator.addMethod("tel-or-email",(function(t,e){return $.validator.methods.email.call(this,t,e)||/\+?[\d- \(\)]/.test(t)})),$.validator.addMethod("custom-tel",(function(t,e){return b.isValid(t)})),$.validator.addMethod("custom-email",(function(t,e){return S.isValid(t)}));class T{constructor(t){this.activeElem=null,this.timer=null,this.dom={root:e(t)}}async show(t,e,o){this.activeElem&&this.activeElem.classList.remove("active"),this.timer&&clearTimeout(this.timer);const i=this.dom.root.querySelector('[data-type="'.concat(t,'"]'));if(i.textContent=e||i.getAttribute("data-default"),i.classList.add("active"),this.activeElem=i,this.dom.root.classList.add("showed"),o)return new Promise((t=>{this.timer=setTimeout((()=>{t(),this.hide()}),o)}))}hide(){this.activeElem&&this.activeElem.classList.remove("active"),this.dom.root.classList.remove("showed")}}class E{static initTomSelect(t){const e={controlInput:null,plugins:{linnikov_custom:{}}};t.hasAttribute("data-no-clear-btn")||(e.plugins.clear_button={title:"Remove selected item"}),new TomSelect(t,e)}constructor(t){this.dom={root:e(t)},this.dom.body=this.dom.root.querySelector("[data-elem=body]"),this.dom.tomSelects=this.dom.root.querySelectorAll("[data-component=tom-select]"),this.dom.submitBtn=this.dom.root.querySelector("[data-elem=submit-btn]");let o=this.dom.root.querySelector('[data-component="form-messages"]')||document.querySelector('[data-component="form-messages"][data-for="'.concat(this.dom.root.getAttribute("id"),'"]'));this.messages=new T(o),this.initTomSelects(),this.initValidator()}async submitHandler(){}initTomSelects(){this.dom.tomSelects.forEach((t=>{E.initTomSelect(t)}))}initValidator(){this.validator=$(this.dom.root).validate({ignore:[],highlight:function(t,e,o){$(t).closest(".form-field").addClass(e)},unhighlight:function(t,e,o){$(t).closest(".form-field").removeClass(e)},errorPlacement:function(t,e){t.appendTo(e.closest(".form-field"))},submitHandler:async(t,e)=>{e.preventDefault(),this.disableSubmitBtn(),this.showSubmitBtnSpiner();try{await this.submitHandler(t,e),this.reset()}catch(t){console.error("Error while submitting form query",t),this.showMessage("error",t.message,5e3)}finally{this.enableSubmitBtn()}}})}disableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.disabled=!0)}enableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.classList.remove("waiting"),this.dom.submitBtn.disabled=!1)}showSubmitBtnSpiner(){this.dom.submitBtn.classList.add("waiting")}hideSubmitBtnSpiner(){this.dom.submitBtn.classList.remove("waiting")}reset(){this.dom.root.reset(),this.enableSubmitBtn()}async showMessage(t,e,o){return await this.messages.show(t,e,o)}hideMessages(){this.messages.hide()}}class P extends E{constructor(t){super(t)}async submitHandler(t,e){try{const e=new FormData(t),o=await grecaptcha.execute("6LeySEgqAAAAAJPJdoC2slB0x-4BFIPaX4_pPTyO",{action:"submit_brief_form"});document.getElementById("g-recaptcha-response").value=o,e.append("g-recaptcha-response",o),e.append("nonce",ajax_career_params.nonce),e.append("action","submit_career_form");const i=await fetch(ajax_career_params.ajax_url,{method:"POST",body:e});if(i.ok){const t=await i.json();if(this.hideSubmitBtnSpiner(),t.success)return this.showMessage("success",null,5e3);throw new Error(t.data||"Unknown error occurred")}throw new Error("Error (status: ".concat(i.status,") sending the form: ").concat(i.statusText))}catch(t){this.hideSubmitBtnSpiner(),console.error(t),await this.showMessage("error",t.message,5e3)}}}document.addEventListener("DOMContentLoaded",(function(){new A("#careers-motto"),new P("#leave-cv-form")}));class A extends w{constructor(t){super(t)}selectDomElems(){this.dom.star1=this.dom.root.querySelector(".motto__star_1"),this.dom.star2=this.dom.root.querySelector(".motto__star_2")}rebuildAnimation(){var t;null===(t=this.animationCtx)||void 0===t||t.revert(),this.animationCtx=gsap.context((()=>{this.star1Tween=gsap.effects.svgStarAnimation(this.dom.star1),this.star2Tween=gsap.effects.svgStarAnimation(this.dom.star2),this.revealTween=gsap.fromTo(this.dom.root.querySelectorAll(".reveal-wrap__item"),{scaleY:1.2,translateY:"160%"},{scaleY:1,translateY:"0%",duration:.4}),this.revealTimeline=gsap.timeline({paused:!0}),this.revealTimeline.add(this.revealTween),this.revealTimeline.call((()=>this.star1Tween.play()),[]),this.revealTimeline.call((()=>this.star2Tween.play()),[],this.revealTween.duration()+this.star1Tween.duration()-.5)}))}initAnimationsOnHover(){const t=()=>this.star1Tween.restart(),e=()=>this.star2Tween.restart();return this.dom.star1.addEventListener("".concat(app.state.pointerType,"enter"),t),this.dom.star2.addEventListener("".concat(app.state.pointerType,"enter"),e),()=>{this.dom.star1.removeEventListener("".concat(app.state.pointerType,"enter"),t),this.dom.star2.removeEventListener("".concat(app.state.pointerType,"enter"),e)}}}})()})();