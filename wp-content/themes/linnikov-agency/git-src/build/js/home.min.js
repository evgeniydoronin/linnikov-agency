(()=>{var t={187:(t,e,i)=>{var n="Expected a function",o=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,h="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=h||u||Function("return this")(),m=Object.prototype.toString,f=Math.max,g=Math.min,w=function(){return p.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&m.call(t)==r}(t))return o;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=c.test(t);return i||l.test(t)?d(t.slice(2),i?2:8):a.test(t)?o:+t}t.exports=function(t,e,i){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError(n);return y(i)&&(o="leading"in i?!!i.leading:o,r="trailing"in i?!!i.trailing:r),function(t,e,i){var o,r,s,a,c,l,d=0,h=!1,u=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function m(e){var i=o,n=r;return o=r=void 0,d=e,a=t.apply(n,i)}function b(t){var i=t-l;return void 0===l||i>=e||i<0||u&&t-d>=s}function S(){var t=w();if(b(t))return x(t);c=setTimeout(S,function(t){var i=e-(t-l);return u?g(i,s-(t-d)):i}(t))}function x(t){return c=void 0,p&&o?m(t):(o=r=void 0,a)}function E(){var t=w(),i=b(t);if(o=arguments,r=this,l=t,i){if(void 0===c)return function(t){return d=t,c=setTimeout(S,e),h?m(t):a}(l);if(u)return c=setTimeout(S,e),m(l)}return void 0===c&&(c=setTimeout(S,e)),a}return e=v(e)||0,y(i)&&(h=!!i.leading,s=(u="maxWait"in i)?f(v(i.maxWait)||0,e):s,p="trailing"in i?!!i.trailing:p),E.cancel=function(){void 0!==c&&clearTimeout(c),d=0,o=l=r=c=void 0},E.flush=function(){return void 0===c?a:x(w())},E}(t,e,{leading:o,maxWait:e,trailing:r})}}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t){if(t instanceof Element||t===window)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};const e={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},n={update(){"undefined"!=typeof window&&("PointerEvent"in window?(n.hasApi=!0,n.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(n.hasApi=!0,n.requiresPrefix=!0):(n.hasApi=!1,n.requiresPrefix=void 0),n.maxTouchPoints=n.hasApi&&window.navigator&&window.navigator[n.prefix("maxTouchPoints")]||void 0,n.hasTouch=n.hasApi?n.maxTouchPoints>0:void 0)},prefix:t=>n.requiresPrefix&&e[t]||t};n.update();const o=(t,e)=>{let i,n=null;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n?i=r:(t.call(this,...r),n=setTimeout((()=>{i&&(t.call(this,...r),i=null),n=null}),e))}};function r(t,e){t.split(" ").forEach(e)}class s{constructor(){this.__subscribers={}}on(t,e){r(t,(t=>{t in this.__subscribers||(this.__subscribers[t]=[]),this.__subscribers[t].push(e)}))}off(t,e){r(t,(t=>{t in this.__subscribers&&(this.__subscribers[t]=this.__subscribers[t].filter((t=>t===e)))}))}emit(t,e){r(t,(t=>{!function(t,e){(function(t){const e=[t];let i=t.length;for(;(i=t.lastIndexOf(".",i-1))>-1;)e.push(t.slice(0,i));return e})(t).forEach(e)}(t,(t=>{t in this.__subscribers&&this.__subscribers[t].forEach((t=>t(e)))}))}))}}function a(t){return new l(t,0)}function c(t){var e,i;function n(e,i){try{var r=t[e](i),s=r.value,a=s instanceof l;Promise.resolve(a?s.v:s).then((function(i){if(a){var c="return"===e?"return":"next";if(!s.k||i.done)return n(c,i);i=t[c](i).value}o(r.done?"return":"normal",i)}),(function(t){n("throw",t)}))}catch(t){o("throw",t)}}function o(t,o){switch(t){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?n(e.key,e.arg):i=null}this._invoke=function(t,o){return new Promise((function(r,s){var a={key:t,arg:o,resolve:r,reject:s,next:null};i?i=i.next=a:(e=i=a,n(t,o))}))},"function"!=typeof t.return&&(this.return=void 0)}function l(t,e){this.v=t,this.k=e}function d(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return d=function(t){this.s=t,this.n=t.next},d.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):e(i.apply(this.s,arguments))},throw:function(t){var i=this.s.return;return void 0===i?Promise.reject(t):e(i.apply(this.s,arguments))}},new d(t)}c.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},c.prototype.next=function(t){return this._invoke("next",t)},c.prototype.throw=function(t){return this._invoke("throw",t)},c.prototype.return=function(t){return this._invoke("return",t)};const h={pointerdown:function(t){let{clientX:e,clientY:i}=t;this.state.pointerTracking=!0,this.state.pointerStart={left:e,top:i},this.moveEventsCache.clean(),this.state.lastPointerPosition=this.state.pointerStart,this.state.scrollLeftStump=this.state.scrollLeft,this.state.pointerDown=!0,document.addEventListener("".concat(app.state.pointerType,"up"),this.pointerUpHandler,{passive:!1}),"pointer"===app.state.pointerType&&document.addEventListener("pointercancel",this.pointerCancelHandler)},pointermove:function(t){const{clientX:e,clientY:i,buttons:n,target:o}=t;if(o.matches("[data-zs-elem*=slide]")||o.closest("[data-zs-elem*=slide]")?this.slow||(this.slow=!0):this.slow=!1,this.state.lastPointerPosition={left:e,top:i},this.moveEventsCache.add(t),this.state.pointerTracking&&(1&n||this.stopPointerTracking(),this.isDraged(t))){t.preventDefault();const i=this.moveEventsCache.getBeforeLast();if(!i)return;const n=e-i.clientX;this.hardScroll({left:n})}},pointerup:function(t){const{clientX:e,clientY:i}=t;if(this.state.pointerDown=!1,this.dragging){this.state.swipeInertion=this.moveEventsCache.calcSwipeInertion(t),this.dragging=!1;const e=t=>t.preventDefault();this.dom.body.addEventListener("click",e,!0),setTimeout((()=>this.dom.body.removeEventListener("click",e,!0)),0)}this.stopPointerTracking()},pointercancel:function(t){this.state.pointerDown=!1,this.dragging=!1,this.stopPointerTracking(),document.removeEventListener("pointercancel",this.pointerCancelHandler)}};class u{constructor(t,e){this.canceled=!1,this.slider=t,this.from=this.slider.currentZoom,this.slider.currentZoom=e,this.to=e,this.transition="x".concat(this.from,"->x").concat(this.to)}selectFrameSlides(){const t=.2*window.innerWidth,e=-t,i=window.innerWidth+t;return this.slider.getSlides().filter((t=>{const n=t.getBoundingClientRect();return n.left>e&&n.right<i}))}alignFrames(){const t=this.srcFrameSlides[0],e=this.srcSnapshot.get(t),i=t.getBoundingClientRect();this.slider.setScroll(this.slider.state.scrollLeft+i.left-e.left)}async exec(){this.slider.pause();try{var t,e=!1,i=!1;try{for(var n,o=function(t){var e,i,n,o=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(i&&null!=(e=t[i]))return e.call(t);if(n&&null!=(e=t[n]))return new d(e.call(t));i="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(this.nextStep());e=!(n=await o.next()).done;e=!1)n.value}catch(e){i=!0,t=e}finally{try{e&&null!=o.return&&await o.return()}finally{if(i)throw t}}}catch(t){console.info("Canceled zoom tansition")}this.canceled||this.finnaly()}nextStep(){var t,e=this;return(t=function*(){if(!e.canceled)if(e.from)switch(e.transition){case"x2->x1":case"x1->x2":if(yield yield a(new Promise(((t,i)=>{e.srcFrameSlides=e.selectFrameSlides(),e.srcSnapshot=e.getFrameBcrSnapshot(e.srcFrameSlides),e.slider.dom.root.setAttribute("data-current-zoom","x".concat(e.to)),requestAnimationFrame((()=>{e.alignFrames(),e.canceled?i():t()}))}))),yield yield a(new Promise(((t,i)=>{e.destFrameSlides=e.selectFrameSlides(),e.destSnapshot=e.getFrameBcrSnapshot(e.destFrameSlides),e.destFrameSlides.forEach((t=>{e.srcSnapshot.has(t)||(t.style.opacity="0")}));const n=Array.from(e.srcSnapshot.keys()),o=[n[2],n[3]];let r="";const s=1.4*window.innerWidth;n.forEach(((t,i)=>{const n=t.getBoundingClientRect(),a=e.srcSnapshot.get(t),c=a.width/n.width;o.includes(t)?r+="\n\t\t\t\t\t\t\t\t\t@keyframes zoom-transition-p".concat(i," {\n\t\t\t\t\t\t\t\t\t\t0% { transform: translate(").concat(a.left-n.left,"px, ").concat(a.top-n.top,"px) scale(").concat(c,");  }\n\t\t\t\t\t\t\t\t\t\t100% { transform: translate(").concat((a.left-n.left)/2,"px, ").concat((a.top-n.top)/2,"px) scale(").concat(c+(1-c)/2,"); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t"):r+="\n\t\t\t\t\t\t\t\t\t@keyframes zoom-transition-p".concat(i," {\n\t\t\t\t\t\t\t\t\t\t0% { transform: translate(").concat(a.left-n.left,"px, ").concat(a.top-n.top,"px); }\n\t\t\t\t\t\t\t\t\t\t100% { transform: translate(").concat(s,"px, ").concat(a.top-n.top,"px); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t")})),requestAnimationFrame((()=>{e.slider.dom.style.textContent=r,n.forEach(((t,e)=>{t.style.animation="".concat(.2,"s linear forwards zoom-transition-p").concat(e)}))})),setTimeout((()=>{e.canceled?i():(e.cleanFrameAnimations(e.destFrameSlides),t())}),200)}))),e.canceled)return;return yield a(new Promise((t=>{const i=1.4*window.innerWidth,n=Array.from(e.srcSnapshot.keys()),o=[n[2],n[3]];let r="\n\t\t\t\t\t\t@keyframes zoom-transition-step-2-c {\n\t\t\t\t\t\t\t0% { transform: translateX(".concat(i,"px); }\n\t\t\t\t\t\t\t100% { transform: translateX(0px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t");e.destFrameSlides.forEach(((t,i)=>{const n=e.destSnapshot.get(t);if(o.includes(t)){const o=e.srcSnapshot.get(t),s=o.width/n.width;r+="\n\t\t\t\t\t\t\t\t@keyframes zoom-transition-step-2-p".concat(i," {\n\t\t\t\t\t\t\t\t\t0% { transform: translate(").concat((o.left-n.left)/2,"px, ").concat((o.top-n.top)/2,"px) scale(").concat(s+(1-s)/2,"); }\n\t\t\t\t\t\t\t\t\t100% { transform: translate(0px, 0px) scale(1); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t")}t.style.opacity="1"})),e.slider.dom.style.textContent=r,e.destFrameSlides.forEach(((t,e)=>{o.includes(t)?t.style.animation="".concat(.2,"s linear zoom-transition-step-2-p").concat(e):t.style.animation="".concat(.2,"s linear zoom-transition-step-2-c")})),setTimeout((()=>{e.destFrameSlides.forEach((t=>{t.style.animation=""})),t()}),200)})));case"x1->x3":case"x2->x3":if(yield yield a(new Promise((t=>{e.srcFrameSlides=e.selectFrameSlides();const i=e.srcFrameSlides.length-1,n=e.srcFrameSlides[i].getBoundingClientRect(),o=1.4*window.innerWidth,r=window.innerHeight/(n.top+n.height/2<window.innerHeight/2?2:-2),s="\n\t\t\t\t\t\t@keyframes zoom-transition-p1 {\n\t\t\t\t\t\t\t0% { transform: translateX(0px); }\n\t\t\t\t\t\t\t100% { transform: translateX(".concat(o,"px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\t@keyframes zoom-transition-p2 {\n\t\t\t\t\t\t\t0% { transform: translateY(0px); }\n\t\t\t\t\t\t\t100% { transform: translateY(").concat(r,"px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t");e.slider.dom.style.textContent=s,e.srcFrameSlides.slice(0,i).forEach((t=>{t.style.animation="".concat(.2,"s linear zoom-transition-p1")})),e.srcFrameSlides[i].style.animation="".concat(.2,"s ease-in zoom-transition-p2"),setTimeout((()=>t()),200)}))),e.canceled)return;if(e.slider.dom.root.setAttribute("data-current-zoom","x".concat(e.to)),e.cleanFrameAnimations(e.srcFrameSlides),e.cleanStyles(),yield,e.canceled)return;return yield a(new Promise((t=>{e.srcFrameSlides=e.selectFrameSlides();const i=1.4*window.innerWidth,n="\n\t\t\t\t\t\t@keyframes zoom-transition {\n\t\t\t\t\t\t\t0% { transform: scale(0.5) translateX(".concat(i,"px); }\n\t\t\t\t\t\t\t80% { transform: scale(0.5) translateX(0px); }\n\t\t\t\t\t\t\t100% { transform: scale(1) translateX(0px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t");e.slider.dom.style.textContent=n,e.srcFrameSlides.forEach((t=>{t.style.animation="".concat(.2,"s ease-out zoom-transition")})),setTimeout((()=>t()),200)})));case"x3->x1":case"x3->x2":if(yield yield a(new Promise((t=>{e.srcFrameSlides=e.selectFrameSlides();const i=1.4*window.innerWidth,n="\n\t\t\t\t\t\t@keyframes zoom-transition {\n\t\t\t\t\t\t\t0% { transform: scale(0) translateX(0px); }\n\t\t\t\t\t\t\t10% { transform: scale(0.5) translateX(0px); }\n\t\t\t\t\t\t\t100% { transform: scale(0.5) translateX(".concat(i,"px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t");e.slider.dom.style.textContent=n,e.srcFrameSlides.forEach((t=>{t.style.animation="".concat(.2,"s linear zoom-transition")})),setTimeout((()=>t()),200)}))),e.canceled)return;if(e.slider.dom.root.setAttribute("data-current-zoom","x".concat(e.to)),e.cleanFrameAnimations(e.srcFrameSlides),e.cleanStyles(),yield,e.canceled)return;return yield a(new Promise((t=>{e.srcFrameSlides=e.selectFrameSlides();const i=e.srcFrameSlides.length-1,n=e.srcFrameSlides[i].getBoundingClientRect(),o=1.4*window.innerWidth,r=window.innerHeight/(n.top+n.height/2<window.innerHeight/2?2:-2),s="\n\t\t\t\t\t\t@keyframes zoom-transition-p1 {\n\t\t\t\t\t\t\t0% { transform: translateX(".concat(o,"px); }\n\t\t\t\t\t\t\t100% { transform: translateX(0px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\t@keyframes zoom-transition-p2 {\n\t\t\t\t\t\t\t0% { transform: translateY(").concat(r,"px); }\n\t\t\t\t\t\t\t100% { transform: translateY(0px); }\n\t\t\t\t\t\t}\n\t\t\t\t\t");e.slider.dom.style.textContent=s,e.srcFrameSlides.slice(0,i).forEach((t=>{t.style.animation="".concat(.2,"s linear zoom-transition-p1")})),e.srcFrameSlides[i].style.animation="".concat(.264,"s ease-out zoom-transition-p2"),setTimeout((()=>t()),200)})))}else e.slider.dom.root.setAttribute("data-current-zoom","x".concat(e.to))},function(){return new c(t.apply(this,arguments))})()}getFrameBcrSnapshot(t){const e=new Map;return t.forEach((t=>e.set(t,t.getBoundingClientRect()))),e}finnaly(){this.cleanFrameAnimations(this.srcFrameSlides),this.cleanFrameAnimations(this.destFrameSlides),this.cleanStyles(),this.slider.dom.root.setAttribute("data-current-zoom","x".concat(this.to)),this.slider.resume()}cleanStyles(){this.slider.dom.style.textContent=""}cleanFrameAnimations(t){t&&t.forEach((t=>{t.style.animation=null,t.style.opacity=null}))}cancel(){this.canceled=!0,this.finnaly()}}class p{static hasEnoughWidth(t){const e=1.1*window.innerWidth;return t.getBoundingClientRect().width>e}constructor(t){this.executed=!1,this.wrapperReplica=null,this.slider=t,this.originalSlides=t.dom.wrapper.querySelectorAll("[data-zs-elem*=slide]:not([data-zs-elem*=duplicate])"),this.srcIdxForInitial=0,this.srcIdxForReplica=0,this.addWrapperReplica()}addWrapperReplica(){if(this.wrapperReplica)return;const{body:t,wrapper:e}=this.slider.dom;this.wrapperReplica=document.createElement("div"),this.wrapperReplica.setAttribute("data-zs-elem","wrapper, replica"),this.wrapperReplica.classList.add("zoom-slider__wrapper-replica"),t.append(this.wrapperReplica)}extendInitialWrapper(){const t=this.originalSlides[this.srcIdxForInitial].cloneNode(!0);t.setAttribute("data-zs-elem","slide, duplicate"),this.slider.dom.wrapper.append(t),this.srcIdxForInitial<this.originalSlides.length-1?this.srcIdxForInitial+=1:this.srcIdxForInitial=0}extendWrapperReplica(){const t=this.originalSlides[this.srcIdxForReplica].cloneNode(!0);t.setAttribute("data-zs-elem","slide, duplicate"),this.wrapperReplica.append(t),this.srcIdxForReplica<this.originalSlides.length-1?this.srcIdxForReplica+=1:this.srcIdxForReplica=0}exec(){if(this.executed)return;const t=()=>{this.executed=!0;const{wrapper:e}=this.slider.dom;if(p.hasEnoughWidth(this.wrapperReplica)&&p.hasEnoughWidth(e))return this.executed=!1;p.hasEnoughWidth(this.wrapperReplica)||this.extendWrapperReplica(),p.hasEnoughWidth(e)||this.extendInitialWrapper(),requestAnimationFrame(t)};t()}}class m{constructor(){this.cache=[]}clean(){this.cache=[]}add(t){this.cache.length>5&&this.cache.shift(),this.cache.push(t)}calcSwipeInertion(t){if(!this.cache.length)return 0;const e=t.timeStamp-this.cache[0].timeStamp;return-(t.clientX-this.cache[0].clientX)/e*20}getBeforeLast(){return this.cache[this.cache.length-2]}}class f{constructor(e,i){this.dom={root:t(e)},this.dom.bar=this.dom.root.querySelector("[data-zsc-bar]"),this.dom.zoomOutBtn=this.dom.root.querySelector("[data-zsc-zoom-out-btn]"),this.dom.zoomInBtn=this.dom.root.querySelector("[data-zsc-zoom-in-btn]"),this.slider=i,this.setZoom(1),this.dom.zoomOutBtn.addEventListener("click",(()=>this.zoomOut())),this.dom.zoomInBtn.addEventListener("click",(()=>this.zoomIn())),this.dom.bar.addEventListener("click",(t=>{let{clientX:e}=t;const i=this.dom.bar.getBoundingClientRect(),n=e-i.left;this.setZoom(Math.ceil(n/(i.width/3)).clamp(1,3))}));const n=matchMedia("(max-width: 992px)"),o=t=>{let{matches:e}=t;e&&this.setZoom(3)};n.addListener(o),o(n)}zoomOut(){this.currentZoom<2||this.setZoom(this.currentZoom-1)}zoomIn(){this.currentZoom>2||this.setZoom(this.currentZoom+1)}setZoom(t){this.currentZoom!==t&&(this.dom.root.setAttribute("data-prev-zoom",this.currentZoom?"x".concat(this.currentZoom):""),this.currentZoom=t,this.dom.root.setAttribute("data-current-zoom","x".concat(this.currentZoom)),this.slider.setZoom(t))}}const g=class extends s{constructor(e){super(),this.state={force:.3,swipeInertion:0,pointerTracking:!1,dragged:!1,animation:!1,status:"idle",scrollLeft:0,lastRecalc:null,prevBodyHeight:null,prevBodyWidth:null},this.moveEventsCache=new m,this.pointerDownHandler=h.pointerdown.bind(this),this.pointerMoveHandler=h.pointermove.bind(this),this.pointerUpHandler=h.pointerup.bind(this),this.pointerCancelHandler=h.pointercancel.bind(this),this.dom={root:t(e)},this.dom.body=this.dom.root.querySelector("[data-zs-elem=body]"),this.dom.wrapper=this.dom.body.querySelector("[data-zs-elem=wrapper]"),this.dom.style=this.dom.root.querySelector("[data-zs-elem=style]"),this.bindEventHandlers(),this.duplicator=new p(this),this.duplicator.exec(),this.initResizeObserver(),this.speedChangeByViewportSize(),this.dom.root.classList.add("initialized")}get dragged(){return this.state.dragging}set dragged(t){this.state.dragging=t}speedChangeByViewportSize(){const t=matchMedia("(max-width: 992px)"),e=t=>{let{matches:e}=t;this.state.force=e?.6:.3};t.addListener(e),e(t)}bindEventHandlers(){this.dom.body.addEventListener("".concat(app.state.pointerType,"down"),this.pointerDownHandler,{passive:!1}),document.addEventListener("".concat(app.state.pointerType,"move"),this.pointerMoveHandler,{passive:!1}),this.dom.body.addEventListener("dragstart",(t=>t.preventDefault()),{passive:!1,capture:!0}),window.addEventListener("resize",o((()=>this.duplicator.exec()),25))}initResizeObserver(){this.resizeObserver=new ResizeObserver((()=>this.resetSlidesSize())),this.resizeObserver.observe(this.dom.root)}resetSlidesSize(){var t;const e=null===(t=this.dom.body)||void 0===t?void 0:t.getBoundingClientRect();this.prevBodyHeight!==(null==e?void 0:e.height)&&(this.dom.body.style.setProperty("--slide-size-l","".concat(.6*e.height,"px")),this.dom.body.style.setProperty("--slide-size-m","".concat(.4*e.height,"px")),this.dom.body.style.setProperty("--slide-size-s","".concat(.2*e.height,"px")),this.dom.body.style.setProperty("--slide-size-mm","".concat(.333333*e.height,"px")))}stopPointerTracking(){this.state.pointerTracking=!1,document.removeEventListener("".concat(app.state.pointerType,"up"),this.pointerUpHandler)}isDraged(t){let{clientX:e,clientY:i}=t;return!!this.dragging||!(Math.abs(this.state.pointerStart.left-e)<4)&&(Math.abs(this.state.pointerStart.left-e)>Math.abs(this.state.pointerStart.top-i)?this.dragging=!0:this.dragging=!1)}hardScroll(t){let{left:e}=t;const i=this.recalcScrollOnEdge();this.setScroll(i-e),this.emit("interaction")}setScroll(t){this.state.scrollLeft=Math.max(0,t),this.dom.body.style.setProperty("--translate-x","".concat(-this.state.scrollLeft,"px"))}recalcScrollOnEdge(){const t=this.duplicator.wrapperReplica.getBoundingClientRect(),e=this.dom.wrapper.getBoundingClientRect();return t.right<=window.innerWidth||e.left>=-10?e.left>=-10?this.state.scrollLeft+t.left-e.left:this.state.scrollLeft-t.left+e.left:this.state.scrollLeft}play(){"paused"!==this.state.status&&"idle"!==this.state.status||(this.state.status="play",this.startAnimation())}stop(){"paused"!==this.state.status&&"play"!==this.state.status||(this.state.status="idle",this.stopAnimation())}resume(){"paused"===this.state.status&&this.startAnimation()}pause(){"play"===this.state.status&&(this.state.status="paused",this.stopAnimation())}startAnimation(){const t=()=>{if(this.state.scrollLeft=this.recalcScrollOnEdge(),0!==this.state.swipeInertion){const t=this.state.swipeInertion<0?-1:1;this.state.swipeInertion=Math.floor(Math.abs(this.state.swipeInertion)/1.1*10)/10*t,this.state.scrollLeft+=this.state.force+this.state.swipeInertion}else this.slow?this.state.scrollLeft+=this.state.force/3:this.state.scrollLeft+=this.state.force;this.setScroll(this.state.scrollLeft)};clearInterval(this.intervalId),this.intervalId=setInterval((()=>{this.state.animation?this.state.pointerDown||requestAnimationFrame((()=>t())):clearInterval(this.intervalId)}),30),this.state.animation=!0}stopAnimation(){this.state.animation=!1}getSlides(){return Array.from(this.dom.body.querySelectorAll("[data-zs-elem*=slide]"))}setZoom(t){this.currentTransition&&this.currentTransition.cancel(),this.currentTransition=new u(this,t),this.currentTransition.exec()}};var w,y=i(187);class v{constructor(e){let{container:i,targetSelector:n}=e;this.pointerMoveHandler=o((t=>{let{target:e,clientX:i,clientY:n}=t;const o=e.matches(this.targetSelector)?e:e.closest(this.targetSelector);if(!o)return;const r=o.getBoundingClientRect(),s=Math.max(0,i-r.left),a=Math.max(0,n-r.top);o.style.setProperty("--pointer-left","".concat(s,"px")),o.style.setProperty("--pointer-top","".concat(a,"px"))}),20),this.targetSelector=n,this.container=t(i),this.container.addEventListener("".concat(app.state.pointerType,"move"),this.pointerMoveHandler)}}class b{constructor(t){let{onCategoryChangeScroll:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dom={},this.currentCategory=null,this.vars={onCategoryChangeScroll:e},this.dom.rootElem=document.querySelector(t),this.dom.body=this.dom.rootElem.querySelector("[data-top-cases-elem=body]"),this.dom.body.style.setProperty("--transition","".concat(b.transition,"s")),this.dom.filter=this.dom.rootElem.querySelector(".top-cases__filter"),this.init()}init(){const t=()=>{const t=location.hash.slice(1);this.showCategory(t||"all")};t(),this.vars.onCategoryChangeScroll&&window.app.state.isMobile&&this.dom.filter.addEventListener("click",(()=>this.scrollToTop())),window.addEventListener("hashchange",t)}scrollToTop(){window.lenis.scrollTo(this.dom.filter,{offset:this.vars.onCategoryChangeScroll.offset})}async showCategory(t){const e=this.dom.rootElem.querySelector('a[href="#'.concat(this.currentCategory,'"]'));null==e||e.classList.remove("active");const i=this.dom.rootElem.querySelector('a[href="#'.concat(t,'"]'));null==i||i.classList.add("active"),this.currentCategory=t;const n=this.selectVisibleCards(),o=this.selectCategoryCards(t);this.markParity(n),await this.animateHidding(n),this.markParity(o),await this.animateShowing(o)}async animateHidding(t){t.forEach((t=>t.classList.remove("showing"))),t.forEach((t=>t.classList.add("hidding"))),await new Promise((e=>setTimeout((()=>{"all"!==this.currentCategory&&t.filter((t=>t.getAttribute("data-category")!==this.currentCategory)).forEach((t=>t.classList.add("hidden"))),t.forEach((t=>t.classList.remove("hidding"))),e()}),b.transition/2*1e3)))}async animateShowing(t){t.forEach((t=>t.classList.remove("hidden"))),requestAnimationFrame((()=>{t.forEach((t=>t.classList.add("showing")))})),await new Promise((e=>setTimeout((()=>{t.forEach((t=>t.classList.remove("showing"))),e()}),b.transition/2*1e3)))}selectNotInCategoryCards(t){return"all"===t?[]:Array.from(this.dom.body.querySelectorAll("*:not([data-category*=".concat(t,"])")))}selectCategoryCards(t){const e="all"===t?"*":"[data-category*=".concat(t,"]");return Array.from(this.dom.body.querySelectorAll(e))}selectVisibleCards(){return Array.from(this.dom.body.querySelectorAll("[data-top-cases-elem=body] > *:not(.hidden)"))}markParity(t){t.forEach(((t,e)=>e%2?t.setAttribute("data-parity","odd"):t.setAttribute("data-parity","even")))}bindFancybox(){$('[data-top-cases-elem="body"] > *:not(.hidden)').fancybox({smallBtn:!1,toolbar:!1,preventCaptionOverlap:!1,contentFit:!0})}unbindFancybox(){$('[data-top-cases-elem="body"] > *').unbind("click.fb")}}let S,x,E;function C(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}b.transition=.8;var z=0;function P(t){return"__private_"+z+++"_"+t}function L(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function T(t,e,i){"symbol"==typeof e&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:i?i+" "+e:e})}catch(t){}return t}gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",(function(){window.slider=new g("#cases-slider"),new f("#cases-slider-control",slider),setTimeout((()=>{F((()=>{var t,e;null===(t=window.cookiesAgreementPanel)||void 0===t||!t.initialized||null!==(e=window.cookiesAgreementPanel)&&void 0!==e&&e.isOpen||slider.play()}))}),0),window.animatedLogo=new R;const t=new b("#top-cases",{onCategoryChangeScroll:{offset:-50}});new v({container:t.dom.body,targetSelector:".case-poster",className:"case-poster__title"}),function(){const t=document.querySelector("#about"),e=t.nextElementSibling;let i=null;const n=y((()=>{const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();if(n.top<=o.height)return r(0);function r(e){i!==e&&(i=e,t.style.setProperty("--translateY","".concat(-e,"px")))}r((n.top-o.height)/window.innerHeight*o.height)}),20),o=()=>{const e=t.getBoundingClientRect();t.style.setProperty("--sticky-bottom","".concat(window.innerHeight-e.height,"px"))},r=()=>{o(),n()};new ResizeObserver(r).observe(t),window.addEventListener("scroll",n),window.addEventListener("resize",r),o(),n()}(),async function(){const t=document.querySelector("#about"),e=t.querySelector('[data-component="sliding-text"]'),i=await e.useModule("slidingText");F((()=>{i.completed?(t.classList.add("animation_completed"),document.documentElement.classList.add("welcome-animation-completed")):(t.classList.remove("animation_completed"),document.documentElement.classList.remove("welcome-animation-completed"))}))}(),function(){var t=document.querySelector("#about"),e=document.querySelector("#logo-animation-spacer"),i=!1;function n(t,e){window.lenis.isStopped||window.lenis.stop(),i=gsap.to(window,{scrollTo:{y:Math.round(t),autoKill:!1},duration:1,onComplete:()=>{i=null,window.lenis.start()},overwrite:!0})}function o(t){return t.getBoundingClientRect().top+window.scrollY}function r(t){return t.getBoundingClientRect().bottom+window.scrollY}Observer.create({target:window,type:"wheel,touch,pointer",wheelSpeed:-1,dragMinimum:10,lockAxis:!0,onUp:s=>{if(i)return;const a=o(t);window.scrollY>=0&&window.scrollY<a&&(s.event.preventDefault(),(()=>{const i=o(t),s=o(e),a=r(e);window.scrollY>=0&&window.scrollY<s?window.app.state.isMobile?(n(i),window.slider.stop()):n(s):window.scrollY>=s&&window.scrollY<a&&(n(i),window.slider.stop())})())},onDown:s=>{if(i)return;const a=o(t);window.scrollY>=0&&window.scrollY<a&&(s.event.preventDefault(),(()=>{const t=o(e),i=r(e);window.scrollY>=0&&window.scrollY<=t?n(0):window.scrollY>=t&&window.scrollY<=i&&n(window.app.state.isMobile?0:t),window.slider.play()})())}})}()}));const{autorun:F,observable:A,action:k}=window.mobx;var I=P("A"),O=P("B");class R{get hidden(){return C(this,I)[I]}set hidden(t){C(this,I)[I]=t}get animationCompleted(){return C(this,O)[O]}set animationCompleted(t){C(this,O)[O]=t}constructor(){Object.defineProperty(this,I,{writable:!0,value:(S(this),x(this,!1))}),Object.defineProperty(this,O,{writable:!0,value:E(this,!1)}),this.dom={root:document.querySelector("#animated-logo-layer"),logo:document.querySelector(".hero__logo")},setTimeout((()=>this.init()),0)}hide(t){this.hidden=!0,t?this.dom.logo.classList.add("with-transition"):this.dom.logo.classList.remove("with-transition"),this.dom.logo.classList.add("hidden")}show(t){this.hidden=!1,t?this.dom.logo.classList.add("with-transition"):this.dom.logo.classList.remove("with-transition"),this.dom.logo.classList.remove("hidden")}setCompleted(t){this.animationCompleted=t,t?(this.hide(!1),document.documentElement.classList.add("logo-animation-completed")):(this.show(!1),document.documentElement.classList.remove("logo-animation-completed"))}init(){this.initHidding(),app.state.isMobile||this.initIntercativity(),this.initAnimation()}initHidding(){let t=null;window.slider.on("interaction",(()=>{matchMedia("(max-width: 1024px)").matches&&(t?clearTimeout(t):this.hide(!0),t=setTimeout((()=>{t=null,this.show(!0)}),2e3))}))}initIntercativity(){LinnikovLOGO.init("#animated-logo")}initAnimation(){window.addEventListener("resize",y((()=>this.rebuildAnimation()),25,{leading:!1})),this.rebuildAnimation()}rebuildAnimation(){var t;this.lastWidth!==window.innerWidth&&(this.lastWidth=window.innerWidth,null===(t=this.animationCtx)||void 0===t||t.revert(),this.animationCtx=gsap.context((()=>{const t=document.querySelector(".hero__logo"),e=document.querySelector(".burger-btn-layer__logo").getBoundingClientRect();ScrollTrigger.create({trigger:"#logo-animation-spacer",start:"top bottom",end:"top+=1px top",onLeave:()=>this.setCompleted(!0),onEnterBack:()=>this.setCompleted(!1)}),gsap.fromTo(t,{scale:(window.innerWidth<700?.7*window.innerWidth:510)/gsap.getProperty(this.dom.logo,"--logo-width"),translateX:"0px",translateY:"".concat(window.innerHeight/2-e.top-e.height/2,"px"),transformOrigin:"center top",width:"".concat(gsap.getProperty(this.dom.logo,"--logo-width"),"px")},{scrollTrigger:{trigger:"#logo-animation-spacer",start:"top bottom",end:"top top",scrub:1},ease:"power1.out",scale:1,translateY:"0px",translateX:()=>{const i=t.getBoundingClientRect();return"".concat(e.left+e.width/2-(i.left+i.width/2),"px")}})})))}}w=R,[x,E,S]=function(t,e,i,n,o,r){function s(t,e,i){return function(n,o){return i&&i(n),t[e].call(n,o)}}function a(t,e){for(var i=0;i<t.length;i++)t[i].call(e);return e}function c(t,e,i,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(i||"be")+" a function"+(n?"":" or undefined"));return t}function l(t,e,i,n,o,r,a,l,d,h,u,p,m){function f(t){if(!m(t))throw new TypeError("Attempted to access private element on non-instance")}var g,w=e[0],y=e[3],v=!l;if(!v){i||Array.isArray(w)||(w=[w]);var b={},S=[],x=3===o?"get":4===o||p?"set":"value";h?(u||p?b={get:T((function(){return y(this)}),n,"get"),set:function(t){e[4](this,t)}}:b[x]=y,u||T(b[x],n,2===o?"":x)):u||(b=Object.getOwnPropertyDescriptor(t,n))}for(var E=t,C=w.length-1;C>=0;C-=i?2:1){var z=w[C],P=i?w[C-1]:void 0,L={},F={kind:["field","accessor","method","getter","setter","class"][o],name:n,metadata:r,addInitializer:function(t,e){if(t.v)throw Error("attempted to call addInitializer after decoration was finished");c(e,"An initializer","be",!0),a.push(e)}.bind(null,L)};try{if(v)(g=c(z.call(P,E,F),"class decorators","return"))&&(E=g);else{var A,k;F.static=d,F.private=h,h?2===o?A=function(t){return f(t),b.value}:(o<4&&(A=s(b,"get",f)),3!==o&&(k=s(b,"set",f))):(A=function(t){return t[n]},(o<2||4===o)&&(k=function(t,e){t[n]=e}));var I=F.access={has:h?m.bind():function(t){return n in t}};if(A&&(I.get=A),k&&(I.set=k),E=z.call(P,p?{get:b.get,set:b.set}:b[x],F),p){if("object"==typeof E&&E)(g=c(E.get,"accessor.get"))&&(b.get=g),(g=c(E.set,"accessor.set"))&&(b.set=g),(g=c(E.init,"accessor.init"))&&S.push(g);else if(void 0!==E)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(E,(u?"field":"method")+" decorators","return")&&(u?S.push(E):b[x]=E)}}finally{L.v=!0}}return(u||p)&&l.push((function(t,e){for(var i=S.length-1;i>=0;i--)e=S[i].call(t,e);return e})),u||v||(h?p?l.push(s(b,"get"),s(b,"set")):l.push(2===o?b[x]:s.call.bind(b[x])):Object.defineProperty(t,n,b)),E}function d(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}if(arguments.length>=6)var h=r[Symbol.metadata||Symbol.for("Symbol.metadata")];var u=Object.create(null==h?null:h),p=function(t,e,i,n){var o,r,s=[],c=function(e){return function(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?typeof t:"null"));return t}(e)===t},d=new Map;function h(t){t&&s.push(a.bind(null,t))}for(var u=0;u<e.length;u++){var p=e[u];if(Array.isArray(p)){var m=p[1],f=p[2],g=p.length>3,w=16&m,y=!!(8&m),v=0==(m&=7),b=f+"/"+y;if(!v&&!g){var S=d.get(b);if(!0===S||3===S&&4!==m||4===S&&3!==m)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+f);d.set(b,!(m>2)||m)}l(y?t:t.prototype,p,w,g?"#"+f:L(f),m,n,y?r=r||[]:o=o||[],s,y,g,v,1===m,y&&g?c:i)}}return h(o),h(r),s}(t,e,o,u);return i.length||d(t,u),{e:p,get c(){var e=[];return i.length&&[d(l(t,[i],n,t.name,5,u,e),u),a.bind(null,e,t)]}}}(w,[[A,1,"hidden"],[A,1,"animationCompleted"],[k,2,"hide"],[k,2,"show"],[k,2,"setCompleted"]],[]).e})()})();