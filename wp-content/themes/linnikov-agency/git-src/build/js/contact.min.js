(()=>{var t={187:(t,e,o)=>{var i="Expected a function",s=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt,h="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g,u="object"==typeof self&&self&&self.Object===Object&&self,m=h||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,g=Math.min,b=function(){return m.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==r}(t))return s;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var o=c.test(t);return o||d.test(t)?l(t.slice(2),o?2:8):a.test(t)?s:+t}t.exports=function(t,e,o){var s=!0,r=!0;if("function"!=typeof t)throw new TypeError(i);return v(o)&&(s="leading"in o?!!o.leading:s,r="trailing"in o?!!o.trailing:r),function(t,e,o){var s,r,n,a,c,d,l=0,h=!1,u=!1,m=!0;if("function"!=typeof t)throw new TypeError(i);function p(e){var o=s,i=r;return s=r=void 0,l=e,a=t.apply(i,o)}function y(t){var o=t-d;return void 0===d||o>=e||o<0||u&&t-l>=n}function S(){var t=b();if(y(t))return x(t);c=setTimeout(S,function(t){var o=e-(t-d);return u?g(o,n-(t-l)):o}(t))}function x(t){return c=void 0,m&&s?p(t):(s=r=void 0,a)}function T(){var t=b(),o=y(t);if(s=arguments,r=this,d=t,o){if(void 0===c)return function(t){return l=t,c=setTimeout(S,e),h?p(t):a}(d);if(u)return c=setTimeout(S,e),p(d)}return void 0===c&&(c=setTimeout(S,e)),a}return e=w(e)||0,v(o)&&(h=!!o.leading,n=(u="maxWait"in o)?f(w(o.maxWait)||0,e):n,m="trailing"in o?!!o.trailing:m),T.cancel=function(){void 0!==c&&clearTimeout(c),l=0,s=d=r=c=void 0},T.flush=function(){return void 0===c?a:x(b())},T}(t,e,{leading:s,maxWait:e,trailing:r})}}},e={};function o(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,o),r.exports}o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t,e){t.split(" ").forEach(e)}o(187);class e{constructor(){this.__subscribers={}}on(e,o){t(e,(t=>{t in this.__subscribers||(this.__subscribers[t]=[]),this.__subscribers[t].push(o)}))}off(e,o){t(e,(t=>{t in this.__subscribers&&(this.__subscribers[t]=this.__subscribers[t].filter((t=>t===o)))}))}emit(e,o){t(e,(t=>{!function(t,e){(function(t){const e=[t];let o=t.length;for(;(o=t.lastIndexOf(".",o-1))>-1;)e.push(t.slice(0,o));return e})(t).forEach(e)}(t,(t=>{t in this.__subscribers&&this.__subscribers[t].forEach((t=>t(o)))}))}))}}function i(t){if(t instanceof Element||t===window)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};const s={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},r={update(){"undefined"!=typeof window&&("PointerEvent"in window?(r.hasApi=!0,r.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(r.hasApi=!0,r.requiresPrefix=!0):(r.hasApi=!1,r.requiresPrefix=void 0),r.maxTouchPoints=r.hasApi&&window.navigator&&window.navigator[r.prefix("maxTouchPoints")]||void 0,r.hasTouch=r.hasApi?r.maxTouchPoints>0:void 0)},prefix:t=>r.requiresPrefix&&s[t]||t};r.update();class n extends e{constructor(t){super(),this.activeTab=null,this.dom={root:i(t)},this.dom.controls=this.dom.root.querySelector("[data-tabs-elem=controls]"),this.dom.tabs=Array.from(this.dom.root.querySelectorAll("[data-tabs-elem=tab]")),this.disclosureBased="disclosure-based"===this.dom.root.getAttribute("data-type"),this.activeTabClass=this.disclosureBased?"open":"active";const e=this.dom.controls["active-tab"].value;this.switchTo(e),this.dom.controls.addEventListener("change",(t=>{let{target:e}=t;return this.switchTo(e.value)}))}switchTo(t){this.activeTab!==t&&(this.emit("switch",{self:this,activeTab:this.activeTab,to:t}),null!==this.activeTab&&this.hide(this.activeTab),this.show(t))}show(t){var e;this.activeTab=t,null===(e=this.dom.tabs[t])||void 0===e||e.classList.add(this.activeTabClass)}hide(t){var e;null===(e=this.dom.tabs[t])||void 0===e||e.classList.remove(this.activeTabClass)}}const a=(t,e)=>{let o,i=null;return function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];i?o=r:(t.call(this,...r),i=setTimeout((()=>{o&&(t.call(this,...r),o=null),i=null}),e))}},c=(()=>{const t=new Map,e=new ResizeObserver(a((e=>{e.forEach((e=>{let{target:o}=e;const i=o.getBoundingClientRect();t.get(o).updateInnerHeightStyle(i.height)}))}),10));return{observe:(o,i)=>{t.set(i,o),e.observe(i)}}})();class d{constructor(t){this.dom={root:i(t)},this.dom.inner=this.dom.root.querySelector('[data-elem*="disclosure.inner"]'),this.dom.toggleBtns=Array.from(this.dom.root.querySelectorAll('[data-elem*="disclosure.toggle-btn"]')),this.dom.root.matches('[data-elem*="disclosure.toggle-btn"]')&&this.dom.toggleBtns.push(this.dom.root),this.dom.toggleBtns.forEach((t=>t.addEventListener("click",(()=>this.toggle(void 0,"trigger-click"))))),c.observe(this,this.dom.inner)}updateInnerHeightStyle(t){this.dom.root.style.setProperty("--inner-height","".concat(t,"px"))}toggle(t,e){null!=t?t?this.open(e):this.close(e):this.dom.root.classList.contains("open")?this.close(e):this.open(e)}open(t){this.dom.root.classList.add("open"),this.dom.toggleBtns.forEach((t=>t.classList.add("active"))),this.dom.root.dispatchEvent(new CustomEvent("disclosure.open",{detail:{self:this,reason:t},bubbles:!0}))}close(t){this.dom.root.classList.remove("open"),this.dom.toggleBtns.forEach((t=>t.classList.remove("active"))),this.dom.root.dispatchEvent(new CustomEvent("disclosure.close",{detail:{self:this,reason:t},bubbles:!0}))}}const l=Inputmask("+9 (999) 999-99-99"),h=Inputmask({alias:"currency",groupSeparator:",",autoGroup:!0,digits:0,digitsOptional:!1,clearMaskOnLostFocus:!1,placeholder:""});console.log(h);const u=Inputmask({mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}}});TomSelect.define("linnikov_custom",(function(){this.hook("after","setup",(()=>{const t=document.createElement("span");t.classList.add("icon-nav-check-arrow","ts-state-indicator"),this.control.append(t)})),this.hook("after","open",(()=>{this.dropdown.classList.add("open"),this.dropdown.setAttribute("aria-hidden",!1)})),this.hook("after","close",(()=>{this.dropdown.classList.remove("open"),this.dropdown.setAttribute("aria-hidden",!0),this.blur()}))})),$.validator.addMethod("tel-or-email",(function(t,e){return $.validator.methods.email.call(this,t,e)||/\+?[\d- \(\)]/.test(t)})),$.validator.addMethod("custom-tel",(function(t,e){return l.isValid(t)})),$.validator.addMethod("custom-email",(function(t,e){return u.isValid(t)}));class m{constructor(t){this.activeElem=null,this.timer=null,this.dom={root:i(t)}}async show(t,e,o){this.activeElem&&this.activeElem.classList.remove("active"),this.timer&&clearTimeout(this.timer);const i=this.dom.root.querySelector('[data-type="'.concat(t,'"]'));if(i.textContent=e||i.getAttribute("data-default"),i.classList.add("active"),this.activeElem=i,this.dom.root.classList.add("showed"),o)return new Promise((t=>{this.timer=setTimeout((()=>{t(),this.hide()}),o)}))}hide(){this.activeElem&&this.activeElem.classList.remove("active"),this.dom.root.classList.remove("showed")}}class p{static initTomSelect(t){const e={controlInput:null,plugins:{linnikov_custom:{}}};t.hasAttribute("data-no-clear-btn")||(e.plugins.clear_button={title:"Remove selected item"}),new TomSelect(t,e)}constructor(t){this.dom={root:i(t)},this.dom.body=this.dom.root.querySelector("[data-elem=body]"),this.dom.tomSelects=this.dom.root.querySelectorAll("[data-component=tom-select]"),this.dom.submitBtn=this.dom.root.querySelector("[data-elem=submit-btn]");let e=this.dom.root.querySelector('[data-component="form-messages"]')||document.querySelector('[data-component="form-messages"][data-for="'.concat(this.dom.root.getAttribute("id"),'"]'));this.messages=new m(e),this.initTomSelects(),this.initValidator()}async submitHandler(){}initTomSelects(){this.dom.tomSelects.forEach((t=>{p.initTomSelect(t)}))}initValidator(){this.validator=$(this.dom.root).validate({ignore:[],highlight:function(t,e,o){$(t).closest(".form-field").addClass(e)},unhighlight:function(t,e,o){$(t).closest(".form-field").removeClass(e)},errorPlacement:function(t,e){t.appendTo(e.closest(".form-field"))},submitHandler:async(t,e)=>{e.preventDefault(),this.disableSubmitBtn(),this.showSubmitBtnSpiner();try{await this.submitHandler(t,e),this.reset()}catch(t){console.error("Error while submitting form query",t),this.showMessage("error",t.message,5e3)}finally{this.enableSubmitBtn()}}})}disableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.disabled=!0)}enableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.classList.remove("waiting"),this.dom.submitBtn.disabled=!1)}showSubmitBtnSpiner(){this.dom.submitBtn.classList.add("waiting")}hideSubmitBtnSpiner(){this.dom.submitBtn.classList.remove("waiting")}reset(){this.dom.root.reset(),this.enableSubmitBtn()}async showMessage(t,e,o){return await this.messages.show(t,e,o)}hideMessages(){this.messages.hide()}}class f{constructor(t){this.dom={input:i(t)},this.dom.wrap=this.dom.input.closest(".form-field");try{this.disclosure=new d(this.dom.input.closest(".field-disclosure"))}catch(t){console.log("No disclosure for field",t)}}clear(){this.dom.input.value=null}setRequired(t){t?this.dom.input.setAttribute("required",!0):this.dom.input.removeAttribute("required")}setHidden(t){this.disclosure?this.disclosure.toggle(!t):t?this.dom.wrap.classList.add("_hidden"):this.dom.wrap.classList.remove("_hidden")}}class g extends p{constructor(t){super(t),this.categoryOtherDesc=new f(this.dom.root.querySelector('[name="category--other-desc"]')),this.initLogic()}async submitHandler(t,e){const o=new FormData(t),i=await grecaptcha.execute("6LeySEgqAAAAAJPJdoC2slB0x-4BFIPaX4_pPTyO",{action:"submit_brief_form"});document.getElementById("g-recaptcha-response").value=i,o.append("g-recaptcha-response",i);const s=Array.from(t.querySelectorAll('input[name="category[]"]:checked')).map((t=>t.value));o.delete("category[]"),s.forEach((t=>o.append("category[]",t))),o.append("action","submit_contact_form"),o.append("nonce",ajax_contact_params.nonce),document.querySelectorAll(".form-msg").forEach((t=>t.textContent=""));try{const t=await fetch(ajax_contact_params.ajax_url,{method:"POST",body:o}),e=await t.json();if(this.hideSubmitBtnSpiner(),e.success)return this.showMessage("success",null,5e3);throw new Error(e.data||"Unknown error occurred")}catch(t){this.showMessage("error","An error occurred. Please try again.",5e3),console.error("Error:",t)}finally{this.hideSubmitBtnSpiner()}}initLogic(){this.dom.root.querySelector('[name="category[]"][value="Other"]').addEventListener("change",(t=>{let{target:e}=t;this.categoryOtherDesc.setHidden(!e.checked),this.categoryOtherDesc.setRequired(e.checked),e.checked||this.categoryOtherDesc.clear()}))}}const b=new Map,v=((t,e)=>{const o=new Map;let i=null;return function(e){for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];i?o.set(e,r):(t(...r),i=setTimeout((()=>{o.forEach((e=>{t(...e)})),o.clear(),i=null}),100))}})((t=>{if(!b.has(t))return;const{elem:e,prefix:o,container:i,withUnit:s}=b.get(t);((t,e,o,i,s)=>{t.style.setProperty("--".concat(e,"block-width"),o+(s?"px":"")),t.style.setProperty("--".concat(e,"block-height"),i+(s?"px":""))})((t=>t&&"object"==typeof t&&"tagName"in t||!1)(i)?i:e,o,e.clientWidth,e.clientHeight,s)})),w=new ResizeObserver((t=>{t.forEach((t=>{let{target:e}=t;v(e,e)}))})),y=function(t){let{prefix:e,container:o,withUnit:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e?"".concat(e,"-"):"";b.set(t,{elem:t,prefix:r,container:i(o),withUnit:s}),w.observe(t)},S=(t,e)=>{"string"==typeof t?document.querySelectorAll(t).forEach((t=>y(t,e))):y(t,e)};gsap.registerPlugin(Flip);class x{constructor(t){this.afterLeaveTimeout=null,this.dom={root:i(t)},this.dom.inner=this.dom.root.querySelector("[data-elem=inner]"),this.createIndicator(),matchMedia("(any-hover: hover)").matches&&(this.dom.items=Array.from(this.dom.inner.children),this.dom.items.forEach((t=>{t.classList.add("hoverable"),t.addEventListener("".concat(app.state.pointerType,"enter"),(t=>{let{target:e}=t;return this.onEnter(e)}))})))}onEnter(t){null!==this.afterLeaveTimeout&&this.clearTimeout();const e=Flip.getState(this.dom.indicator);t.append(this.dom.indicator),Flip.from(e,{duration:.4})}clearTimeout(){clearTimeout(this.afterLeaveTimeout),this.afterLeaveTimeout=null}onLeave(){this.afterLeaveTimeout=setTimeout((()=>{this.afterLeaveTimeout=null;const t=Flip.getState(this.dom.indicator);this.dom.root.append(this.dom.indicator),Flip.from(t,{duration:.4})}),300)}createIndicator(){this.dom.indicator=document.createElement("div"),this.dom.indicator.classList.add("hover-indicator"),this.dom.indicator.innerHTML='<span class="icon-cubic-plus"></span><span class="icon-cubic-plus"></span><span class="icon-cubic-plus"></span><span class="icon-cubic-plus"></span>',this.dom.root.append(this.dom.indicator)}}gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(CustomEase);const{autorun:T}=window.mobx;document.addEventListener("DOMContentLoaded",(function(){new g("#contact-form"),new _,document.querySelectorAll("[data-component=tabs]").forEach((t=>new n(t))),document.querySelectorAll("[data-component=hoverables-group]").forEach((t=>new x(t))),S("#contacts-container",{container:"main",prefix:"section",withUnit:!0}),S("#contacts-inner",{container:"main",prefix:"inner",withUnit:!0}),function(){const t=document.querySelector("#hero__title");T((()=>{var e;["open","opening"].includes(null===(e=window.submenu)||void 0===e?void 0:e.panelState)?(t.classList.add("reveal-wrap_hidding"),t.classList.remove("reveal-wrap_active")):t.classList.add("reveal-wrap_active")}))}()}));class _{constructor(){this.dom={root:document.querySelector("#mail-to-us")},this.dom.container=this.dom.root.querySelector(".mail-to-us__sticky-container"),this.dom.wrap=this.dom.root.querySelector(".mail-to-us__sticky-wrap"),this.dom.ref=this.dom.root.querySelector(".mail-to-us__ref"),this.dom.refP1=this.dom.ref.querySelector(".mail-ref-apart__p1"),this.dom.refP2=this.dom.ref.querySelector(".mail-ref-apart__p2"),this.dom.refP3=this.dom.ref.querySelector(".mail-ref-apart__p3"),this.dom.refP4=this.dom.ref.querySelector(".mail-ref-apart__p4"),this.dom.refP5=this.dom.ref.querySelector(".mail-ref-apart__p5"),this.dom.refP6=this.dom.ref.querySelector(".mail-ref-apart__p6"),window.app.windowResizeObserver.on("resize",(()=>this.onResize())),this.onResize()}onResize(){this.rebuildAnimations()}rebuildAnimations(){const t=this;this.context&&this.context.revert(),this.context=gsap.context((()=>{this.tl=gsap.timeline({scrollTrigger:{trigger:"#hero",start:"top top",endTrigger:"#mail-to-us",end:"bottom-=10% bottom",scrub:.5,invalidateOnRefresh:!0}}),gsap.set(this.dom.refP2,{translateX:()=>"-".concat(window.innerWidth,"px"),translateY:()=>"".concat(window.innerHeight,"px")}),gsap.set(this.dom.refP3,{translateX:()=>"".concat(window.innerWidth,"px"),translateY:()=>"".concat(window.innerHeight,"px")}),this.tl.add(gsap.fromTo(this.dom.refP2,{translateX:()=>"-".concat(window.innerWidth,"px"),translateY:()=>"".concat(window.innerHeight,"px")},{id:"top-left",translateX:"0px",translateY:"0px",duration:.4}),.24),this.tl.add(gsap.fromTo(this.dom.refP3,{translateX:()=>"".concat(window.innerWidth,"px"),translateY:()=>"".concat(window.innerHeight,"px")},{id:"top-right",translateX:"0px",translateY:"0px",duration:.4}),.24),this.tl.add(gsap.timeline({id:"bottom-to-left",onUpdate:function(){gsap.set(t.dom.refP4,{translateX:()=>"-".concat(t.dom.refP5.offsetWidth/t.dom.refP4.offsetWidth*100*gsap.getProperty(t.dom.refP4,"scale")*this.progress(),"%")})},duration:.24}),0),this.tl.add(gsap.fromTo(t.dom.refP5,{translateX:"0%"},{id:"bottom-first-part-to-outside",translateX:"-100%",duration:.4}),.24),gsap.set(this.dom.refP4,{"transform-origin":"bottom left",scale:window.innerWidth<=768?1.45:2.25}),this.tl.add(gsap.timeline({id:"bottom-scale",onUpdate:function(){const e=1+(window.innerWidth<=768?.45:1.25)*(1-this.progress());gsap.set(t.dom.refP4,{scale:e,translateX:()=>"-".concat(t.dom.refP5.offsetWidth/t.dom.refP4.offsetWidth*100*e,"%")})},duration:.4}),.24),this.tl.fromTo(this.dom.wrap,{bottom:"".concat((window.innerHeight-this.dom.wrap.offsetHeight)/2,"px")},{id:"sticky-position-decrease",bottom:"".concat(gsap.getProperty(this.dom.container,"paddingBottom")/2,"px"),duration:.2,ease:"none"},.8)}))}}})()})();