(()=>{"use strict";(()=>{function t(t,e){t.split(" ").forEach(e)}class e{constructor(){this.__subscribers={}}on(e,i){t(e,(t=>{t in this.__subscribers||(this.__subscribers[t]=[]),this.__subscribers[t].push(i)}))}off(e,i){t(e,(t=>{t in this.__subscribers&&(this.__subscribers[t]=this.__subscribers[t].filter((t=>t===i)))}))}emit(e,i){t(e,(t=>{!function(t,e){(function(t){const e=[t];let i=t.length;for(;(i=t.lastIndexOf(".",i-1))>-1;)e.push(t.slice(0,i));return e})(t).forEach(e)}(t,(t=>{t in this.__subscribers&&this.__subscribers[t].forEach((t=>t(i)))}))}))}}var i=function(){return i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function n(t,e,i){if(i||2===arguments.length)for(var n,o=0,r=e.length;o<r;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function o(t){return Array.prototype.slice.call(t)}function r(t,e){var i=Math.floor(t);return i===e||i+1===e?t:e}function s(){return Date.now()}function a(t,e,i){if(e="data-keen-slider-"+e,null===i)return t.removeAttribute(e);t.setAttribute(e,i||"")}function d(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?o(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?o(t):[]}function c(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function l(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function u(){var t=[];return{add:function(e,i,n,o){e.addListener?e.addListener(n):e.addEventListener(i,n,o),t.push([e,i,n,o])},input:function(t,e,i,n){this.add(t,e,function(t){return function(e){e.nativeEvent&&(e=e.nativeEvent);var i=e.changedTouches||[],n=e.targetTouches||[],o=e.detail&&e.detail.x?e.detail:null;return t({id:o?o.identifier?o.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",idChanged:o?o.identifier?o.identifier:"i":i[0]?i[0]?i[0].identifier:"e":"d",raw:e,x:o&&o.x?o.x:n[0]?n[0].screenX:o?o.x:e.pageX,y:o&&o.y?o.y:n[0]?n[0].screenY:o?o.y:e.pageY})}}(i),n)},purge:function(){t.forEach((function(t){t[0].removeListener?t[0].removeListener(t[2]):t[0].removeEventListener(t[1],t[2],t[3])})),t=[]}}}function h(t,e,i){return Math.min(Math.max(t,e),i)}function m(t){return(t>0?1:0)-(t<0?1:0)||+t}function f(t){var e=t.getBoundingClientRect();return{height:r(e.height,t.offsetHeight),width:r(e.width,t.offsetWidth)}}function p(t,e,i,n){var o=t&&t[e];return null==o?i:n&&"function"==typeof o?o():o}function v(t){return Math.round(1e6*t)/1e6}function g(t){var e,i,o,r,a,d,c,l,u,f,g,b,w,y,x=1/0,S=[],T=null,k=0;function M(t){I(k+t)}function E(t){var e=L(k+t).abs;return B(e)?e:null}function L(t){var e=Math.floor(Math.abs(v(t/i))),o=v((t%i+i)%i);o===i&&(o=0);var r=m(t),s=c.indexOf(n([],c,!0).reduce((function(t,e){return Math.abs(e-o)<Math.abs(t-o)?e:t}))),a=s;return r<0&&e++,s===d&&(a=0,e+=r>0?1:-1),{abs:a+e*d*r,origin:s,rel:a}}function C(t,e,i){var n;if(e||!_())return A(t,i);if(!B(t))return null;var o=L(null!=i?i:k),r=o.abs,s=t-o.rel,a=r+s;n=A(a);var c=A(a-d*m(s));return(null!==c&&Math.abs(c)<Math.abs(n)||null===n)&&(n=c),v(n)}function A(t,e){if(null==e&&(e=v(k)),!B(t)||null===t)return null;t=Math.round(t);var n=L(e),o=n.abs,r=n.rel,s=n.origin,a=q(t),l=(e%i+i)%i,u=c[s],h=Math.floor((t-(o-r))/d)*i;return v(u-l-u+c[a]+h+(s===d?i:0))}function B(t){return P(t)===t}function P(t){return h(t,u,f)}function _(){return r.loop}function q(t){return(t%d+d)%d}function I(e){var i;i=e-k,S.push({distance:i,timestamp:s()}),S.length>6&&(S=S.slice(-6)),k=v(e);var n=F().abs;if(n!==T){var o=null!==T;T=n,o&&t.emit("slideChanged")}}function F(n){var s=n?null:function(){if(d){var t=_(),e=t?(k%i+i)%i:k,n=(t?k%i:k)-a[0][2],s=0-(n<0&&t?i-Math.abs(n):n),c=0,l=L(k),h=l.abs,p=l.rel,v=a[p][2],x=a.map((function(e,n){var o=s+c;(o<0-e[0]||o>1)&&(o+=(Math.abs(o)>i-1&&t?i:0)*m(-o));var a=n-p,l=m(a),u=a+h;t&&(-1===l&&o>v&&(u+=d),1===l&&o<v&&(u-=d),null!==g&&u<g&&(o+=i),null!==b&&u>b&&(o-=i));var f=o+e[0]+e[1],w=Math.max(o>=0&&f<=1?1:f<0||o>1?0:o<0?Math.min(1,(e[0]+o)/e[0]):(1-o)/e[0],0);return c+=e[0]+e[1],{abs:u,distance:r.rtl?-1*o+1-e[0]:o,portion:w,size:e[0]}}));return h=P(h),p=q(h),{abs:P(h),length:o,max:y,maxIdx:f,min:w,minIdx:u,position:k,progress:t?e/i:k/o,rel:p,slides:x,slidesLength:i}}}();return e.details=s,t.emit("detailsChanged"),s}return e={absToRel:q,add:M,details:null,distToIdx:E,idxToDist:C,init:function(e){if(function(){if(r=t.options,a=(r.trackConfig||[]).map((function(t){return[p(t,"size",1),p(t,"spacing",0),p(t,"origin",0)]})),d=a.length){i=v(a.reduce((function(t,e){return t+e[0]+e[1]}),0));var e,n=d-1;o=v(i+a[0][2]-a[n][0]-a[n][2]-a[n][1]),c=a.reduce((function(t,i){if(!t)return[0];var n=a[t.length-1],o=t[t.length-1]+(n[0]+n[2])+n[1];return o-=i[2],t[t.length-1]>o&&(o=t[t.length-1]),o=v(o),t.push(o),(!e||e<o)&&(l=t.length-1),e=o,t}),null),0===o&&(l=0),c.push(v(i))}}(),!d)return F(!0);var n;!function(){var e=t.options.range,i=t.options.loop;g=u=i?p(i,"min",-1/0):0,b=f=i?p(i,"max",x):l;var n=p(e,"min",null),o=p(e,"max",null);null!==n&&(u=n),null!==o&&(f=o),w=u===-1/0?u:t.track.idxToDist(u||0,!0,0),y=f===x?f:C(f,!0,0),null===o&&(b=f),p(e,"align",!1)&&f!==x&&0===a[q(f)][2]&&(y-=1-a[q(f)][0],f=E(y-k)),w=v(w),y=v(y)}(),n=e,Number(n)===n?M(A(P(e))):F()},to:I,velocity:function(){var t=s(),e=S.reduce((function(e,i){var n=i.distance,o=i.timestamp;return t-o>200||(m(n)!==m(e.distance)&&e.distance&&(e={distance:0,lastTimestamp:0,time:0}),e.time&&(e.distance+=n),e.lastTimestamp&&(e.time+=o-e.lastTimestamp),e.lastTimestamp=o),e}),{distance:0,lastTimestamp:0,time:0});return e.distance/e.time||0}}}function b(t){var e,i,n,o,r,s,a,d;function c(t){return 2*t}function l(t){return h(t,a,d)}function u(t){return 1-Math.pow(1-t,3)}function f(){return n?t.track.velocity():0}function p(t,e){void 0===e&&(e=1e3);var i=147e-9+(t=Math.abs(t))/e;return{dist:Math.pow(t,2)/i,dur:t/i}}function v(){var e=t.track.details;e&&(r=e.min,s=e.max,a=e.minIdx,d=e.maxIdx)}function g(){t.animator.stop()}t.on("updated",v),t.on("optionsChanged",v),t.on("created",v),t.on("dragStarted",(function(){n=!1,g(),e=i=t.track.details.abs})),t.on("dragChecked",(function(){n=!0})),t.on("dragEnded",(function(){var n=t.options.mode;"snap"===n&&function(){var n=t.track,o=t.track.details,a=o.position,d=m(f());(a>s||a<r)&&(d=0);var c=e+d;0===o.slides[n.absToRel(c)].portion&&(c-=d),e!==i&&(c=i),m(n.idxToDist(c,!0))!==d&&(c+=d),c=l(c);var u=n.idxToDist(c,!0);t.animator.start([{distance:u,duration:500,easing:function(t){return 1+--t*t*t*t*t}}])}(),"free"!==n&&"free-snap"!==n||function(){g();var e="free-snap"===t.options.mode,i=t.track,n=f();o=m(n);var a=t.track.details,d=[];if(n||!e){var h=p(n),v=h.dist,b=h.dur;if(b=c(b),v*=o,e){var w=i.idxToDist(i.distToIdx(v),!0);w&&(v=w)}d.push({distance:v,duration:b,easing:u});var y=a.position,x=y+v;if(x<r||x>s){var S=x<r?r-y:s-y,T=0,k=n;if(m(S)===o){var M=Math.min(Math.abs(S)/Math.abs(v),1),E=function(t){return 1-Math.pow(1-t,1/3)}(M)*b;d[0].earlyExit=E,k=n*(1-M)}else d[0].earlyExit=0,T+=S;var L=p(k,100),C=L.dist*o;t.options.rubberband&&(d.push({distance:C,duration:c(L.dur),easing:u}),d.push({distance:-C+T,duration:500,easing:u}))}t.animator.start(d)}else t.moveToIdx(l(a.abs),!0,{duration:500,easing:function(t){return 1+--t*t*t*t*t}})}()})),t.on("dragged",(function(){i=t.track.details.abs}))}function w(t){var e,i,n,o,r,s,a,f,p,v,g,b,w,y,x,S,T,k,M=u();function E(e){if(s&&f===e.id){var d=B(e);if(p){if(!A(e))return C(e);v=d,p=!1,t.emit("dragChecked")}if(S)return v=d;c(e);var u=function(e){if(T===-1/0&&k===1/0)return e;var n=t.track.details,s=n.length,a=n.position,d=h(e,T-a,k-a);if(0===s)return 0;if(!t.options.rubberband)return d;if(a<=k&&a>=T)return e;if(a<T&&i>0||a>k&&i<0)return e;var c=(a<T?a-T:a-k)/s,l=o*s,u=Math.abs(c*l),m=Math.max(0,1-u/r*2);return m*m*e}(a(v-d)/o*n);i=m(u);var w=t.track.details.position;(w>T&&w<k||w===T&&i>0||w===k&&i<0)&&l(e),g+=u,!b&&Math.abs(g*o)>5&&(b=!0),t.track.add(u),v=d,t.emit("dragged")}}function L(e){!s&&t.track.details&&t.track.details.length&&(g=0,s=!0,b=!1,p=!0,f=e.id,A(e),v=B(e),t.emit("dragStarted"))}function C(e){s&&f===e.idChanged&&(s=!1,t.emit("dragEnded"))}function A(t){var e=P(),i=e?t.y:t.x,n=e?t.x:t.y,o=void 0!==w&&void 0!==y&&Math.abs(y-n)<=Math.abs(w-i);return w=i,y=n,o}function B(t){return P()?t.y:t.x}function P(){return t.options.vertical}function _(){o=t.size,r=P()?window.innerHeight:window.innerWidth;var e=t.track.details;e&&(T=e.min,k=e.max)}function q(t){b&&(l(t),c(t))}function I(){if(M.purge(),t.options.drag&&!t.options.disabled){var i;i=t.options.dragSpeed||1,a="function"==typeof i?i:function(t){return t*i},n=t.options.rtl?-1:1,_(),e=t.container,function(){var t="data-keen-slider-clickable";d("[".concat(t,"]:not([").concat(t,"=false])"),e).map((function(t){M.add(t,"dragstart",l),M.add(t,"mousedown",l),M.add(t,"touchstart",l)}))}(),M.add(e,"dragstart",(function(t){c(t)})),M.add(e,"click",q,{capture:!0}),M.input(e,"ksDragStart",L),M.input(e,"ksDrag",E),M.input(e,"ksDragEnd",C),M.input(e,"mousedown",L),M.input(e,"mousemove",E),M.input(e,"mouseleave",C),M.input(e,"mouseup",C),M.input(e,"touchstart",L,{passive:!0}),M.input(e,"touchmove",E,{passive:!1}),M.input(e,"touchend",C),M.input(e,"touchcancel",C),M.add(window,"wheel",(function(t){s&&c(t)}));var o="data-keen-slider-scrollable";d("[".concat(o,"]:not([").concat(o,"=false])"),t.container).map((function(t){return function(t){var e;M.input(t,"touchstart",(function(t){e=B(t),S=!0,x=!0}),{passive:!0}),M.input(t,"touchmove",(function(i){var n=P(),o=n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth,r=e-B(i),s=n?t.scrollTop:t.scrollLeft,a=n&&"scroll"===t.style.overflowY||!n&&"scroll"===t.style.overflowX;if(e=B(i),(r<0&&s>0||r>0&&s<o)&&x&&a)return S=!0;x=!1,c(i),S=!1})),M.input(t,"touchend",(function(){S=!1}))}(t)}))}}t.on("updated",_),t.on("optionsChanged",I),t.on("created",I),t.on("destroyed",M.purge)}function y(t){var e,i,n=null;function o(e,i,n){t.animator.active?s(e,i,n):requestAnimationFrame((function(){return s(e,i,n)}))}function r(){o(!1,!1,i)}function s(i,o,r){var s=0,a=t.size,l=t.track.details;if(l&&e){var u=l.slides;e.forEach((function(t,e){if(i)!n&&o&&d(t,null,r),c(t,null,r);else{if(!u[e])return;var l=u[e].size*a;!n&&o&&d(t,l,r),c(t,u[e].distance*a-s,r),s+=l}}))}}function a(e){return"performance"===t.options.renderMode?Math.round(e):e}function d(t,e,i){var n=i?"height":"width";null!==e&&(e=a(e)+"px"),t.style["min-"+n]=e,t.style["max-"+n]=e}function c(t,e,i){if(null!==e){e=a(e);var n=i?e:0;e="translate3d(".concat(i?0:e,"px, ").concat(n,"px, 0)")}t.style.transform=e,t.style["-webkit-transform"]=e}function l(){e&&(s(!0,!0,i),e=null),t.on("detailsChanged",r,!0)}function u(){o(!1,!0,i)}function h(){l(),i=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(n="auto"===p(t.options.slides,"perView",null),t.on("detailsChanged",r),(e=t.slides).length&&u())}t.on("created",h),t.on("optionsChanged",h),t.on("beforeOptionsChanged",(function(){l()})),t.on("updated",u),t.on("destroyed",l)}function x(t,e){return function(n){var o,r,s,c,l,h=u();function m(t){var e;a(n.container,"reverse","rtl"!==(e=n.container,window.getComputedStyle(e,null).getPropertyValue("direction"))||t?null:""),a(n.container,"v",n.options.vertical&&!t?"":null),a(n.container,"disabled",n.options.disabled&&!t?"":null)}function v(){g()&&S()}function g(){var t=null;if(c.forEach((function(e){e.matches&&(t=e.__media)})),t===o)return!1;o||n.emit("beforeOptionsChanged"),o=t;var e=t?s.breakpoints[t]:s;return n.options=i(i({},s),e),m(),L(),C(),k(),!0}function b(t){var e=f(t);return(n.options.vertical?e.height:e.width)/n.size||1}function w(){return n.options.trackConfig.length}function y(t){for(var a in o=!1,s=i(i({},e),t),h.purge(),r=n.size,c=[],s.breakpoints||[]){var d=window.matchMedia(a);d.__media=a,c.push(d),h.add(d,"change",v)}h.add(window,"orientationchange",E),h.add(window,"resize",M),g()}function x(t){n.animator.stop();var e=n.track.details;n.track.init(null!=t?t:e?e.abs:0)}function S(t){x(t),n.emit("optionsChanged")}function T(t,e){if(t)return y(t),void S(e);L(),C();var i=w();k(),w()!==i?S(e):x(e),n.emit("updated")}function k(){var t=n.options.slides;if("function"==typeof t)return n.options.trackConfig=t(n.size,n.slides);for(var e=n.slides,i=e.length,o="number"==typeof t?t:p(t,"number",i,!0),r=[],s=p(t,"perView",1,!0),a=p(t,"spacing",0,!0)/n.size||0,d="auto"===s?a:a/s,c=p(t,"origin","auto"),l=0,u=0;u<o;u++){var h="auto"===s?b(e[u]):1/s-a+d,m="center"===c?.5-h/2:"auto"===c?0:c;r.push({origin:m,size:h,spacing:a}),l+=h}if(l+=a*(o-1),"auto"===c&&!n.options.loop&&1!==s){var f=0;r.map((function(t){var e=l-f;return f+=t.size+a,e>=1||(t.origin=1-e-(l>1?0:1-l)),t}))}n.options.trackConfig=r}function M(){L();var t=n.size;n.options.disabled||t===r||(r=t,T())}function E(){M(),setTimeout(M,500),setTimeout(M,2e3)}function L(){var t=f(n.container);n.size=(n.options.vertical?t.height:t.width)||1}function C(){n.slides=d(n.options.selector,n.container)}n.container=(l=d(t,document)).length?l[0]:null,n.destroy=function(){h.purge(),n.emit("destroyed"),m(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=T,y(n.options)}}var S=function(t,e,i){try{return function(t,e){var i,n={};return i={emit:function(t){n[t]&&n[t].forEach((function(t){t(i)}));var e=i.options&&i.options[t];e&&e(i)},moveToIdx:function(t,e,n){var o=i.track.idxToDist(t,e);if(o){var r=i.options.defaultAnimation;i.animator.start([{distance:o,duration:p(n||r,"duration",500),easing:p(n||r,"easing",(function(t){return 1+--t*t*t*t*t}))}])}},on:function(t,e,i){void 0===i&&(i=!1),n[t]||(n[t]=[]);var o=n[t].indexOf(e);o>-1?i&&delete n[t][o]:i||n[t].push(e)},options:t},function(){if(i.track=g(i),i.animator=function(t){var e,i,n,o,r,s;function a(e){s||(s=e),d(!0);var r=e-s;r>n&&(r=n);var u=o[i];if(u[3]<r)return i++,a(e);var h=u[2],m=u[4],f=u[0],p=u[1]*(0,u[5])(0===m?1:(r-h)/m);if(p&&t.track.to(f+p),r<n)return l();s=null,d(!1),c(null),t.emit("animationEnded")}function d(t){e.active=t}function c(t){e.targetIdx=t}function l(){var t;t=a,r=window.requestAnimationFrame(t)}function u(){var e;e=r,window.cancelAnimationFrame(e),d(!1),c(null),s&&t.emit("animationStopped"),s=null}return e={active:!1,start:function(e){if(u(),t.track.details){var r=0,s=t.track.details.position;i=0,n=0,o=e.map((function(t){var e,i=Number(s),o=null!==(e=t.earlyExit)&&void 0!==e?e:t.duration,a=t.easing,d=t.distance*a(o/t.duration)||0;s+=d;var c=n;return n+=o,r+=d,[i,t.distance,c,n,t.duration,a]})),c(t.track.distToIdx(r)),l(),t.emit("animationStarted")}},stop:u,targetIdx:null}}(i),e)for(var t=0,n=e;t<n.length;t++)(0,n[t])(i);i.track.init(i.options.initial||0),i.emit("created")}(),i}(e,n([x(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),y,w,b],i||[],!0))}catch(t){console.error(t)}};function T(t){if(t instanceof Element||t===window)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}function k(t){return"object"==typeof t&&null!=t}Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};const M={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},E={update(){"undefined"!=typeof window&&("PointerEvent"in window?(E.hasApi=!0,E.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(E.hasApi=!0,E.requiresPrefix=!0):(E.hasApi=!1,E.requiresPrefix=void 0),E.maxTouchPoints=E.hasApi&&window.navigator&&window.navigator[E.prefix("maxTouchPoints")]||void 0,E.hasTouch=E.hasApi?E.maxTouchPoints>0:void 0)},prefix:t=>E.requiresPrefix&&M[t]||t};E.update();class L extends e{constructor(t){if(super(),this.dom={root:T(t)},!this.dom.root)throw new Error("Cannot find MaterialsFilter root by provided selector: ".concat(t));const e=location.hash.slice(1);this.currentFilter=e||"all",this.switchTo(this.currentFilter),this.dom.root.addEventListener("click",(t=>{let{target:e}=t;const i=e.hasAttribute("href")?e:e.closest("[href]");if(!i)return;const n=i.getAttribute("href").slice(1);this.switchTo(n)}))}switchTo(t){this.prevFilter=this.currentFilter,this.prevFilter&&this.setInactive(this.prevFilter),this.currentFilter=t,this.setActive(t),this.emit("switchTo",{prevCategory:this.prevFilter,category:t})}setActive(t){const e=this.dom.root.querySelector('[href="#'.concat(t,'"]'));null==e||e.classList.add("active")}setInactive(t){const e=this.dom.root.querySelector('[href="#'.concat(t,'"]'));null==e||e.classList.remove("active")}}class C extends L{constructor(t){super(t),this.dom.slider=this.dom.root.querySelector("[data-elem=slider]"),this.dom.tips=this.dom.root.querySelector("[data-elem=tips]"),this.dom.prevBtn=this.dom.root.querySelector('[data-elem="materials-filter.prev"]'),this.dom.nextBtn=this.dom.root.querySelector('[data-elem="materials-filter.next"]'),document.documentElement.classList.add("has-fixed-filter-panel"),this.initSlider(this.dom.slider)}initSlider(t){this.slider=new S(t,{mode:"free",slides:{perView:"auto",spacing:50},breakpoints:{"(max-width: 520px)":{slides:{perView:"auto",spacing:24}}},updated:()=>this.handleSliderUpdate(),created:()=>this.handleSliderUpdate()}),this.dom.prevBtn.addEventListener("click",(()=>this.slider.prev())),this.dom.nextBtn.addEventListener("click",(()=>this.slider.next()))}handleSliderUpdate(){this.dom.slider.offsetWidth<this.dom.slider.scrollWidth?this.showTips():this.hideTips()}isTipsShowed(){return this.dom.root.classList.contains("show-tips")}showTips(){this.isTipsShowed()||this.dom.root.classList.add("show-tips")}hideTips(){this.isTipsShowed()&&this.dom.root.classList.remove("show-tips")}hide(){document.documentElement.classList.add("fixed-filter-hidden"),this.dom.root.setAttribute("aria-hidden",!0),this.dom.root.classList.add("hidden")}show(){document.documentElement.classList.remove("fixed-filter-hidden"),this.dom.root.setAttribute("aria-hidden",!1),this.dom.root.classList.remove("hidden")}}gsap.registerPlugin(ScrollTrigger),gsap.registerPlugin(Observer);const A={filter:"static"};class B{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dom={},this.currentCategory=null,this.options=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach((e=>{const i=[{target:t,src:e}];for(;i.length;){const{src:t,target:e}=i.shift();Object.keys(t).forEach((n=>{!k(t[n])||t[n]instanceof Array||!k(e[n])||e[n]instanceof Array?e[n]=t[n]:t[n]!==e[n]&&i.push({src:t[n],target:e[n]})}))}})),t}({},A,e),this.dom.root=document.querySelector(t),this.dom.body=this.dom.root.querySelector('[data-elem="materials-grid.body"]'),this.id=this.dom.root.getAttribute("id"),this.setTransition(.8);const i='[data-component="materials-filter"][data-for="'.concat(this.id,'"]');"static"===this.options.filter?this.filter=new L(i):(this.filter=new C(i),this.initFilterHidding()),this.filter||console.error("No filter for materials grid"),this.filter.on("switchTo",(t=>{let{category:e}=t;return this.switchTo(e)})),setTimeout((()=>this.switchTo(this.filter.currentFilter)),0)}setTransition(t){this.dom.body.style.setProperty("--transition","".concat(t,"s"))}getSectionElem(t){return this.dom.body.querySelector('[data-category="'.concat(t,'"]'))}scrollToStart(){var t;this.dom.root.getBoundingClientRect(),null===(t=window.lenis)||void 0===t||t.scrollTo("top")}showFilter(){"show"in this.filter&&(this.filter.show(),document.documentElement.classList.add("fixed-filter-panel-is-visible"))}hideFilter(){"hide"in this.filter&&(this.filter.hide(),document.documentElement.classList.remove("fixed-filter-panel-is-visible"))}initFilterHidding(){this.scrollTrigger=ScrollTrigger.create({trigger:this.dom.root,start:"top bottom",end:"bottom top",onEnter:()=>this.showFilter(),onEnterBack:()=>this.showFilter(),onLeave:()=>this.hideFilter(),onLeaveBack:()=>this.hideFilter()})}}B.transition=.8;class P extends B{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.state={},this.selectItems(),this.initItemsHoverTracking()}selectItems(){this.dom.items=Array.from(this.dom.root.querySelectorAll('[data-elem="materials-grid.body"] > *'))}get hasHovered(){return this.dom.root.classList.contains("has-hovered-item")}set hasHovered(t){t?(this.filter.dom.root.classList.add("grid-has-hovered-item"),this.dom.root.classList.add("has-hovered-item")):(this.filter.dom.root.classList.remove("grid-has-hovered-item"),this.dom.root.classList.remove("has-hovered-item"))}initItemsHoverTracking(){this.dom.items.forEach((t=>{Observer.create({target:t,type:"pointer",onHover:()=>{this.hasHovered=!0},onHoverEnd:()=>{this.hasHovered=!1},onMove:e=>{let{x:i,y:n}=e;if(!this.hasHovered)return!1;const o=t.getBoundingClientRect(),r=(i-o.left)/o.width*50,s=(n-o.top)/o.height*50;t.style.setProperty("--img-shift-left","".concat(r,"px")),t.style.setProperty("--img-shift-top","".concat(s,"px"))}})}))}async switchTo(t,e){this.prevCategory=this.currentCategory,this.currentCategory=t,e||this.scrollToStart(),await this.animateHiddingAll(),this.hideNotInCategory(),await this.showFromCategory(this.currentCategory),setTimeout((()=>this.scrollTrigger.refresh()),1200)}async animateHiddingAll(){return this.dom.items.forEach((t=>{t.classList.add("hidding")})),new Promise((t=>setTimeout(t,200)))}hideNotInCategory(t){"all"!==t&&this.dom.items.forEach((e=>{e.getAttribute("data-category")!==t&&(e.setAttribute("aria-hidden",!0),e.classList.add("hidden"),e.classList.remove("hidding"))}))}async showFromCategory(t){this.dom.items.forEach((e=>{"all"!==t&&e.getAttribute("data-category")!==t||(e.setAttribute("aria-hidden",!1),e.classList.remove("hidden"),requestAnimationFrame((()=>e.classList.add("showing"))))})),await new Promise((t=>setTimeout(t,200))),this.dom.items.forEach((e=>{"all"!==t&&e.getAttribute("data-category")!==t||e.classList.remove("showing")}))}}const _=(t,e)=>{let i,n=null;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n?i=r:(t.call(this,...r),n=setTimeout((()=>{i&&(t.call(this,...r),i=null),n=null}),e))}};(()=>{const t=new Map;new ResizeObserver(_((e=>{e.forEach((e=>{let{target:i}=e;const n=i.getBoundingClientRect();t.get(i).updateInnerHeightStyle(n.height)}))}),10))})();const q=Inputmask("+9 (999) 999-99-99"),I=(Inputmask("currency"),Inputmask({mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}}}));TomSelect.define("linnikov_custom",(function(){this.hook("after","setup",(()=>{const t=document.createElement("span");t.classList.add("icon-nav-check-arrow","ts-state-indicator"),this.control.append(t)})),this.hook("after","open",(()=>{this.dropdown.classList.add("open"),this.dropdown.setAttribute("aria-hidden",!1)})),this.hook("after","close",(()=>{this.dropdown.classList.remove("open"),this.dropdown.setAttribute("aria-hidden",!0),this.blur()}))})),$.validator.addMethod("tel-or-email",(function(t,e){return $.validator.methods.email.call(this,t,e)||/\+?[\d- \(\)]/.test(t)})),$.validator.addMethod("custom-tel",(function(t,e){return q.isValid(t)})),$.validator.addMethod("custom-email",(function(t,e){return I.isValid(t)}));class F{constructor(t){this.activeElem=null,this.timer=null,this.dom={root:T(t)}}async show(t,e,i){this.activeElem&&this.activeElem.classList.remove("active"),this.timer&&clearTimeout(this.timer);const n=this.dom.root.querySelector('[data-type="'.concat(t,'"]'));if(n.textContent=e||n.getAttribute("data-default"),n.classList.add("active"),this.activeElem=n,this.dom.root.classList.add("showed"),i)return new Promise((t=>{this.timer=setTimeout((()=>{t(),this.hide()}),i)}))}hide(){this.activeElem&&this.activeElem.classList.remove("active"),this.dom.root.classList.remove("showed")}}class H{static initTomSelect(t){const e={controlInput:null,plugins:{linnikov_custom:{}}};t.hasAttribute("data-no-clear-btn")||(e.plugins.clear_button={title:"Remove selected item"}),new TomSelect(t,e)}constructor(t){this.dom={root:T(t)},this.dom.body=this.dom.root.querySelector("[data-elem=body]"),this.dom.tomSelects=this.dom.root.querySelectorAll("[data-component=tom-select]"),this.dom.submitBtn=this.dom.root.querySelector("[data-elem=submit-btn]");let e=this.dom.root.querySelector('[data-component="form-messages"]')||document.querySelector('[data-component="form-messages"][data-for="'.concat(this.dom.root.getAttribute("id"),'"]'));this.messages=new F(e),this.initTomSelects(),this.initValidator()}async submitHandler(){}initTomSelects(){this.dom.tomSelects.forEach((t=>{H.initTomSelect(t)}))}initValidator(){this.validator=$(this.dom.root).validate({ignore:[],highlight:function(t,e,i){$(t).closest(".form-field").addClass(e)},unhighlight:function(t,e,i){$(t).closest(".form-field").removeClass(e)},errorPlacement:function(t,e){t.appendTo(e.closest(".form-field"))},submitHandler:async(t,e)=>{e.preventDefault(),this.disableSubmitBtn(),this.showSubmitBtnSpiner();try{await this.submitHandler(t,e),this.reset()}catch(t){console.error("Error while submitting form query",t),this.showMessage("error",t.message,5e3)}finally{this.enableSubmitBtn()}}})}disableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.disabled=!0)}enableSubmitBtn(){this.dom.submitBtn&&(this.dom.submitBtn.classList.remove("waiting"),this.dom.submitBtn.disabled=!1)}showSubmitBtnSpiner(){this.dom.submitBtn.classList.add("waiting")}hideSubmitBtnSpiner(){this.dom.submitBtn.classList.remove("waiting")}reset(){this.dom.root.reset(),this.enableSubmitBtn()}async showMessage(t,e,i){return await this.messages.show(t,e,i)}hideMessages(){this.messages.hide()}}class z extends H{constructor(t){super(t),this.dom.closeBtn=this.dom.root.querySelector("[data-elem=close-btn]"),this.dom.closeBtn.addEventListener("click",(()=>this.onClose()))}async submitHandler(t,e){e.preventDefault();try{const e=new FormData(t);e.append("action","submit_contact_form"),e.append("nonce",ajax_params.nonce);const i=await fetch(ajax_params.ajax_url,{method:"POST",body:e});if(!i.ok)throw new Error("Error: ".concat(i.status));{const t=await i.json();t.success?(this.hideSubmitBtn(),this.showCloseBtn(),this.showMessage("success",t.data)):this.showMessage("error",t.data)}}catch(t){console.error("Error while submitting the form:",t),this.showMessage("error","Failed to submit the form.")}}onClose(){this.hideCloseBtn(),this.showSubmitBtn(),this.hideMessages()}hideSubmitBtn(){this.dom.submitBtn.classList.add("hidden")}showSubmitBtn(){this.dom.submitBtn.classList.remove("hidden")}showCloseBtn(){this.dom.closeBtn.classList.add("active")}hideCloseBtn(){this.dom.closeBtn.classList.remove("active")}}document.addEventListener("DOMContentLoaded",(function(){new P("#ideas-grid",{filter:"panel"}),new z("#sign-up-form")}))})()})();