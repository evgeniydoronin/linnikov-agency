(()=>{var t={187:(t,e,i)=>{var r="Expected a function",o=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,h="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,u="object"==typeof self&&self&&self.Object===Object&&self,p=h||u||Function("return this")(),m=Object.prototype.toString,f=Math.max,g=Math.min,w=function(){return p.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&m.call(t)==n}(t))return o;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=c.test(t);return i||l.test(t)?d(t.slice(2),i?2:8):a.test(t)?o:+t}t.exports=function(t,e,i){var o=!0,n=!0;if("function"!=typeof t)throw new TypeError(r);return v(i)&&(o="leading"in i?!!i.leading:o,n="trailing"in i?!!i.trailing:n),function(t,e,i){var o,n,s,a,c,l,d=0,h=!1,u=!1,p=!0;if("function"!=typeof t)throw new TypeError(r);function m(e){var i=o,r=n;return o=n=void 0,d=e,a=t.apply(r,i)}function b(t){var i=t-l;return void 0===l||i>=e||i<0||u&&t-d>=s}function S(){var t=w();if(b(t))return T(t);c=setTimeout(S,function(t){var i=e-(t-l);return u?g(i,s-(t-d)):i}(t))}function T(t){return c=void 0,p&&o?m(t):(o=n=void 0,a)}function O(){var t=w(),i=b(t);if(o=arguments,n=this,l=t,i){if(void 0===c)return function(t){return d=t,c=setTimeout(S,e),h?m(t):a}(l);if(u)return c=setTimeout(S,e),m(l)}return void 0===c&&(c=setTimeout(S,e)),a}return e=y(e)||0,v(i)&&(h=!!i.leading,s=(u="maxWait"in i)?f(y(i.maxWait)||0,e):s,p="trailing"in i?!!i.trailing:p),O.cancel=function(){void 0!==c&&clearTimeout(c),d=0,o=l=n=c=void 0},O.flush=function(){return void 0===c?a:T(w())},O}(t,e,{leading:o,maxWait:e,trailing:n})}}},e={};function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";function t(t){if(t instanceof Element||t===window)return t;{const e=document.querySelector(t);return e||new Error("Cannot find the target by selector: ".concat(t)),e}}Number.prototype.clamp=function(t,e){return Math.max(t,Math.min(this.valueOf(),e))};const e={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture",maxTouchPoints:"msMaxTouchPoints"},r={update(){"undefined"!=typeof window&&("PointerEvent"in window?(r.hasApi=!0,r.requiresPrefix=!1):window.navigator&&"msPointerEnabled"in window.navigator?(r.hasApi=!0,r.requiresPrefix=!0):(r.hasApi=!1,r.requiresPrefix=void 0),r.maxTouchPoints=r.hasApi&&window.navigator&&window.navigator[r.prefix("maxTouchPoints")]||void 0,r.hasTouch=r.hasApi?r.maxTouchPoints>0:void 0)},prefix:t=>r.requiresPrefix&&e[t]||t};r.update();const o=(t,e)=>{let i,r=null;return function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];r?i=n:(t.call(this,...n),r=setTimeout((()=>{i&&(t.call(this,...n),i=null),r=null}),e))}};class n{constructor(e){let{container:i,targetSelector:r}=e;this.pointerMoveHandler=o((t=>{let{target:e,clientX:i,clientY:r}=t;const o=e.matches(this.targetSelector)?e:e.closest(this.targetSelector);if(!o)return;const n=o.getBoundingClientRect(),s=Math.max(0,i-n.left),a=Math.max(0,r-n.top);o.style.setProperty("--pointer-left","".concat(s,"px")),o.style.setProperty("--pointer-top","".concat(a,"px"))}),20),this.targetSelector=r,this.container=t(i),this.container.addEventListener("".concat(app.state.pointerType,"move"),this.pointerMoveHandler)}}class s{constructor(e){this.anyHover=matchMedia("(any-hover: hover)").matches,this.onPointerMove=t=>{let{clientX:e,buttons:i}=t;if(!this.anyHover&&1&1!==i)return this.onPointerUp();const r=this.dom.root.getBoundingClientRect();this.dom.root.style.setProperty("--position",((e-r.left)/r.width).clamp(.005,.995))},this.dom={root:t(e)},this.dom.thumb=this.dom.root.querySelector("[data-elem=thumb]"),this.anyHover?this.dom.root.addEventListener("".concat(app.state.pointerType,"move"),this.onPointerMove):(this.dom.root.addEventListener("".concat(app.state.pointerType,"down"),(()=>this.onPointerDown())),this.dom.root.addEventListener("".concat(app.state.pointerType,"up"),(()=>this.onPointerUp())))}onPointerDown(){this.dom.root.addEventListener("".concat(app.state.pointerType,"move"),this.onPointerMove)}onPointerUp(){this.dom.root.removeEventListener("".concat(app.state.pointerType,"move"),this.onPointerMove)}}var a;let c,l,d,h,u,p;function m(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var f=0;function g(t){return"__private_"+f+++"_"+t}function w(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function v(t,e,i){"symbol"==typeof e&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:i?i+" "+e:e})}catch(t){}return t}const{computed:y,observable:b,action:S,autorun:T}=mobx;var O=g("A"),x=g("B"),P=g("C"),A=g("D"),M=g("E");class k{get viewOffset(){return m(this,O)[O]}set viewOffset(t){m(this,O)[O]=t}get mode(){return m(this,x)[x]}set mode(t){m(this,x)[x]=t}get direction(){return m(this,P)[P]}set direction(t){m(this,P)[P]=t}get gesturesActive(){return m(this,A)[A]}set gesturesActive(t){m(this,A)[A]=t}get inView(){return m(this,M)[M]}set inView(t){m(this,M)[M]=t}constructor(e){var i;Object.defineProperty(this,O,{writable:!0,value:(c(this),l(this,0))}),Object.defineProperty(this,x,{writable:!0,value:d(this,null)}),Object.defineProperty(this,P,{writable:!0,value:h(this,null)}),Object.defineProperty(this,A,{writable:!0,value:u(this,!0)}),Object.defineProperty(this,M,{writable:!0,value:p(this,0)}),this.dom={root:t(e)},this.dom.body=this.dom.root.querySelector('[data-elem="works-slider.body"]'),this.dom.prev=this.dom.root.querySelector('[data-elem="works-slider.prev"]'),this.dom.next=this.dom.root.querySelector('[data-elem="works-slider.next"]'),this.dom.slides=Array.from(this.dom.root.querySelectorAll('[data-elem="works-slider.slide"]')),this.disableDrugging(),this.initModeSetter(),this.initInViewTracker(),this.initGestures(),this.initAction(),null===(i=window)||void 0===i||null===(i=i.app)||void 0===i||i.resizeObserver.on("resize",(()=>this.onViewportResize())),this.dom.root.classList.add("_initialized"),setTimeout((()=>this.initAnimation()),0)}initInViewTracker(){ScrollTrigger.create({trigger:this.dom.root,start:"top-=".concat(window.innerWidth>768?160:100,"px top"),end:"bottom top",onToggle:t=>this.setInView(t.isActive)})}onViewportResize(){gsap.set(this.nextSlides,{translateX:"".concat(this.dom.body.offsetWidth,"px")}),gsap.set(this.prevSlides,{translateX:"".concat(-this.dom.body.offsetWidth,"px")})}disableDrugging(){this.dom.slides.forEach((t=>t.setAttribute("draggable","false")))}initGestures(){Observer.create({target:this.dom.root,type:"touch, pointer",axis:"x",lockAxis:!0,onLeft:()=>this.onGesture((()=>this.next())),onRight:()=>this.onGesture((()=>this.prev())),onRelease:()=>gsap.set(this.dom.root,{pointerEvents:"all"}),onPress:()=>this.setGesturesActive(!0)})}onGesture(t){console.log("onGesture"),this.gesturesActive&&(gsap.set(this.dom.root,{pointerEvents:"none"}),t(),this.setGesturesActive(!1))}initAction(){this.dom.prev.addEventListener("click",(()=>this.prev())),this.dom.next.addEventListener("click",(()=>this.next()))}setGesturesActive(t){console.log("setGesturesActive",t),this.gesturesActive=t}setDirection(t){this.direction=t}setMode(t){this.mode=t}setInView(t){this.inView=t}setViewOffset(t){this.viewOffset=t}get realViewOffset(){return this.viewOffset%this.dom.slides.length}get slidesPerView(){return"mob"===this.mode?1:2}get prevSlides(){const t=[];for(var e=1;e<=this.slidesPerView;e++)t.push(this.dom.slides.at((this.realViewOffset-e)%this.dom.slides.length));return t}get activeSlides(){const t=[];for(var e=0;e<this.slidesPerView;e++)console.log("i: ".concat(e,", this.realViewOffset: ").concat(this.realViewOffset,", number: ").concat(this.dom.slides.length)),t.push(this.dom.slides.at((this.realViewOffset+e)%this.dom.slides.length));return t}get nextSlides(){const t=[];for(var e=0;e<this.slidesPerView;e++){const i=(this.realViewOffset+this.slidesPerView+e)%this.dom.slides.length;t.push(this.dom.slides.at(i))}return t}initAnimation(){T((()=>{this.tweens=[],gsap.set(this.dom.slides,{opacity:0}),gsap.set(this.nextSlides.concat(this.prevSlides).concat(this.activeSlides),{opacity:1}),console.log(this.prevSlides,this.activeSlides,this.nextSlides),"forward"===this.direction?(gsap.set(this.nextSlides,{translateX:"".concat(this.dom.body.offsetWidth,"px")}),this.tweens.push(gsap.to(this.activeSlides,{keyframes:[{scale:.9,duration:.1},{translateX:0,scale:.9,duration:.2},{translateX:0,scale:1,duration:.1}]})),this.tweens.push(gsap.to(this.prevSlides,{keyframes:[{scale:.9,duration:.1},{translateX:"".concat(-this.dom.body.offsetWidth,"px"),scale:.9,duration:.2},{translateX:"".concat(-this.dom.body.offsetWidth,"px"),scale:1,duration:.1}]}))):(gsap.set(this.prevSlides,{opacity:1,translateX:"".concat(-this.dom.body.offsetWidth,"px")}),this.tweens.push(gsap.to(this.activeSlides,{keyframes:[{scale:.9,duration:.1},{translateX:0,scale:.9,duration:.2},{translateX:0,scale:1,duration:.1}]})),this.tweens.push(gsap.to(this.nextSlides,{keyframes:[{scale:.9,duration:.1},{translateX:"".concat(this.dom.body.offsetWidth,"px"),scale:.9,duration:.2},{translateX:"".concat(this.dom.body.offsetWidth,"px"),scale:1,duration:.1}]})))}))}initModeSetter(){const t=matchMedia("(max-width: 768px)"),e=t=>{let{matches:e}=t;return this.setMode(e?"mob":"desc")};t.addEventListener("change",e),e(t)}next(){this.setViewOffset(this.viewOffset+this.slidesPerView),this.setDirection("forward")}prev(){this.setViewOffset(this.viewOffset-this.slidesPerView),this.setDirection("backward")}}a=k,[l,d,h,u,p,c]=function(t,e,i,r,o,n){function s(t,e,i){return function(r,o){return i&&i(r),t[e].call(r,o)}}function a(t,e){for(var i=0;i<t.length;i++)t[i].call(e);return e}function c(t,e,i,r){if("function"!=typeof t&&(r||void 0!==t))throw new TypeError(e+" must "+(i||"be")+" a function"+(r?"":" or undefined"));return t}function l(t,e,i,r,o,n,a,l,d,h,u,p,m){function f(t){if(!m(t))throw new TypeError("Attempted to access private element on non-instance")}var g,w=e[0],y=e[3],b=!l;if(!b){i||Array.isArray(w)||(w=[w]);var S={},T=[],O=3===o?"get":4===o||p?"set":"value";h?(u||p?S={get:v((function(){return y(this)}),r,"get"),set:function(t){e[4](this,t)}}:S[O]=y,u||v(S[O],r,2===o?"":O)):u||(S=Object.getOwnPropertyDescriptor(t,r))}for(var x=t,P=w.length-1;P>=0;P-=i?2:1){var A=w[P],M=i?w[P-1]:void 0,k={},C={kind:["field","accessor","method","getter","setter","class"][o],name:r,metadata:n,addInitializer:function(t,e){if(t.v)throw Error("attempted to call addInitializer after decoration was finished");c(e,"An initializer","be",!0),a.push(e)}.bind(null,k)};try{if(b)(g=c(A.call(M,x,C),"class decorators","return"))&&(x=g);else{var D,R;C.static=d,C.private=h,h?2===o?D=function(t){return f(t),S.value}:(o<4&&(D=s(S,"get",f)),3!==o&&(R=s(S,"set",f))):(D=function(t){return t[r]},(o<2||4===o)&&(R=function(t,e){t[r]=e}));var E=C.access={has:h?m.bind():function(t){return r in t}};if(D&&(E.get=D),R&&(E.set=R),x=A.call(M,p?{get:S.get,set:S.set}:S[O],C),p){if("object"==typeof x&&x)(g=c(x.get,"accessor.get"))&&(S.get=g),(g=c(x.set,"accessor.set"))&&(S.set=g),(g=c(x.init,"accessor.init"))&&T.push(g);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(x,(u?"field":"method")+" decorators","return")&&(u?T.push(x):S[O]=x)}}finally{k.v=!0}}return(u||p)&&l.push((function(t,e){for(var i=T.length-1;i>=0;i--)e=T[i].call(t,e);return e})),u||b||(h?p?l.push(s(S,"get"),s(S,"set")):l.push(2===o?S[O]:s.call.bind(S[O])):Object.defineProperty(t,r,S)),x}function d(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}if(arguments.length>=6)var h=n[Symbol.metadata||Symbol.for("Symbol.metadata")];var u=Object.create(null==h?null:h),p=function(t,e,i,r){var o,n,s=[],c=function(e){return function(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?typeof t:"null"));return t}(e)===t},d=new Map;function h(t){t&&s.push(a.bind(null,t))}for(var u=0;u<e.length;u++){var p=e[u];if(Array.isArray(p)){var m=p[1],f=p[2],g=p.length>3,v=16&m,y=!!(8&m),b=0==(m&=7),S=f+"/"+y;if(!b&&!g){var T=d.get(S);if(!0===T||3===T&&4!==m||4===T&&3!==m)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+f);d.set(S,!(m>2)||m)}l(y?t:t.prototype,p,v,g?"#"+f:w(f),m,r,y?n=n||[]:o=o||[],s,y,g,b,1===m,y&&g?c:i)}}return h(o),h(n),s}(t,e,o,u);return i.length||d(t,u),{e:p,get c(){var e=[];return i.length&&[d(l(t,[i],r,t.name,5,u,e),u),a.bind(null,e,t)]}}}(a,[[b,1,"viewOffset"],[b,1,"mode"],[b,1,"direction"],[b,1,"gesturesActive"],[b,1,"inView"],[S,2,"setGesturesActive"],[S,2,"setDirection"],[S,2,"setMode"],[S,2,"setInView"],[S,2,"setViewOffset"],[y,3,"realViewOffset"],[y,3,"slidesPerView"],[y,3,"prevSlides"],[y,3,"activeSlides"],[y,3,"nextSlides"],[S,2,"next"],[S,2,"prev"]],[]).e;class C{constructor(e){this.dom={root:t(e)},this.dom.inner=this.dom.root.querySelector(".nine-tiles__inner"),this.dom.activeTile=this.dom.root.querySelector(".nine-tiles__inner *:nth-child(5)"),window.app.resizeObserver.on("resize",(()=>this.rebuildAnimation())),this.rebuildAnimation()}rebuildAnimation(){var t;null===(t=this.gsapCtx)||void 0===t||t.revert(),this.gsapCtx=gsap.context((()=>{window.innerWidth<=1240||gsap.from(this.dom.activeTile,{scrollTrigger:{trigger:this.dom.root,start:"top top",end:()=>{const t=this.dom.inner.offsetHeight+gsap.getProperty(this.dom.inner,"top")-window.innerHeight;return"bottom-=".concat(Math.max(t,0)," bottom")},scrub:.8},scale:1.2*(this.dom.activeTile.offsetHeight>this.dom.activeTile.offsetWidth?window.innerHeight/this.dom.activeTile.offsetHeight:window.innerWidth/this.dom.activeTile.offsetWidth),ease:"none",duration:1})}))}}var D,R=i(187);let E,j,W,I,H,V;function q(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var L=0;function z(t){return"__private_"+L+++"_"+t}function B(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function _(t,e,i){"symbol"==typeof e&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:i?i+" "+e:e})}catch(t){}return t}gsap.registerPlugin(ScrollTrigger);const{action:N,autorun:X,observable:G}=window.mobx;document.addEventListener("DOMContentLoaded",(function(){window.app.drawers.get("work-details").setOptions({closeOnOutsideClick:!1,modal:!1}),new n({container:document.querySelector("#more-works"),targetSelector:".case-poster"}),new Y("#single-line-scroll-slider"),new U("#two-lines-scroll-slider"),pageHeader.addTrigger("#detail-panel");const t=new k("#more-works");window.projectDetails=new tt(t),document.querySelectorAll("[data-component=before-after-slider]").forEach((t=>new s(t))),new C("#nine-tiles")}));class Y{constructor(t){this.bcr={},this.dom={root:document.querySelector(t)},this.dom.wrap=this.dom.root.querySelector("[data-elem=wrap]"),this.dom.container=this.dom.root.querySelector("[data-elem=container]"),this.dom.inner=this.dom.root.querySelector("[data-elem=inner]"),this.dom.body=this.dom.container.querySelector("[data-elem=body]"),this.selectSlides(),this.updateCSSSlidesNumber(),this.execResizeObserver(),this.onResize()}execResizeObserver(){window.app.resizeObserver.on("resize",(()=>this.onResize()))}onResize(){this.updateBcrs(),this.updateCSSContainerWidth(),this.pullStickyTop(),this.rebuildAnimation()}rebuildAnimation(){var t;null===(t=this.animationCtx)||void 0===t||t.revert(),this.animationCtx=gsap.context((()=>{this.scrollTrigger=ScrollTrigger.create({trigger:this.dom.root,start:()=>"top-=".concat((window.innerHeight-this.dom.wrap.offsetHeight)/2,"px top"),end:()=>"bottom+=".concat((window.innerHeight-this.dom.wrap.offsetHeight)/2,"px bottom"),pin:this.dom.wrap}),ScrollTrigger.create({trigger:this.dom.root,start:()=>window.innerWidth>1024?"top-=".concat(.2*window.innerHeight,"px top"):"top+=10% bottom",end:window.innerWidth>1024?"bottom+=".concat(.1*window.innerHeight,"px bottom"):"bottom-=10% top",scrub:1,onUpdate:t=>this.dom.root.style.setProperty("--progress",t.progress)})}))}selectSlides(){this.slides=this.dom.body.querySelectorAll("[data-elem=body] > *")}updateBcrs(){this.bcr.root=this.dom.root.getBoundingClientRect(),this.bcr.wrap=this.dom.wrap.getBoundingClientRect(),this.bcr.container=this.dom.container.getBoundingClientRect()}updateCSSSlidesNumber(){this.dom.root.style.setProperty("--slides-number",this.slides.length)}updateCSSContainerWidth(){this.dom.root.style.setProperty("--container-width","".concat(this.bcr.container.width,"px"))}pullStickyTop(){const t=getComputedStyle(this.dom.wrap);this.stickyTop=Number(t.getPropertyValue("--sticky-top").slice(0,-2))}}class U{constructor(t){this.scalingInterval=null,this.firstStepProgress=0,this.firstStepAnimationProgress=0,this.bcr={},this.dom={root:document.querySelector(t)},this.dom.wrap=this.dom.root.querySelector("[data-elem=wrap]"),this.dom.container=this.dom.root.querySelector("[data-elem=container]"),this.dom.body=this.dom.container.querySelector("[data-elem=body]"),this.selectSlides(),this.onResize(),this.execResizeObserver()}rebuildAnimation(){var t;null===(t=this.animationCtx)||void 0===t||t.revert(),this.animationCtx=gsap.context((()=>{this.timeline=gsap.timeline({scrollTrigger:{start:()=>window.innerWidth>1024?"top top":"top-=".concat(.2*window.innerHeight," top"),end:"bottom-=".concat(.3*window.innerHeight,"px top"),trigger:this.dom.root,scrub:.6}}),this.timeline.from(this.getSecondSlide(),{translateY:()=>"-".concat(.6*this.getInitialSlideWidth()+80,"px"),scale:()=>this.getSecondSlideInitScale(),duration:3}),this.timeline.to(this.slides.slice(0,Math.ceil(this.slides.length/2)),{translateX:"40%",duration:7},3),this.timeline.to(this.slides.slice(Math.ceil(this.slides.length/2)),{translateX:"-40%",duration:7},3)}))}execResizeObserver(){window.app.resizeObserver.on("resize",(()=>this.onResize()))}onResize(){this.updateBcrs(),this.updateCSSContainerWidth(),this.updateSecondSlideInitScale(),this.pullStickyTop(),this.rebuildAnimation()}pullStickyTop(){const t=getComputedStyle(this.dom.wrap);this.stickyTop=Number(t.getPropertyValue("top").slice(0,-2))}getSecondSlide(){return this.slides[1]}selectSlides(){this.slides=Array.from(this.dom.body.querySelectorAll("[data-elem=body] > *"))}updateBcrs(){this.bcr.root=this.dom.root.getBoundingClientRect(),this.bcr.wrap=this.dom.wrap.getBoundingClientRect(),this.bcr.container=this.dom.container.getBoundingClientRect()}getInitialSlideWidth(){const t=getComputedStyle(this.dom.root);return Number(t.getPropertyValue("--slide-width").slice(0,-2))}updateCSSContainerWidth(){this.dom.root.style.setProperty("--container-width","".concat(this.bcr.container.width,"px"))}getSecondSlideInitScale(){return window.innerWidth/this.getInitialSlideWidth()}updateSecondSlideInitScale(){}}class ${constructor(){this.state=!1,this.dom={root:document.querySelector("#details-open-close-btn")},this.dom.inner=this.dom.root.querySelector(".open-close-btn__inner"),this.createHideTween(),this.createShowTween()}createHideTween(){this.hideTween=gsap.fromTo(this.dom.inner,{translateY:"0"},{translateY:"-100%",ease:"back.inOut(2)",duration:.4}),this.hideTween.then((()=>this.state="hidden"))}createShowTween(){this.showTween=gsap.fromTo(this.dom.inner,{translateY:"-100%"},{translateY:"0",ease:"power1.out",duration:.4}),this.showTween.then((()=>this.state="showed"))}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showDelayTimer&&clearTimeout(this.showDelayTimer),this.hideDelayTimer=setTimeout((()=>{["hidding","hidden"].includes(this.state)||(this.hideDelayTimer=null,this.state="hidding",this.showTween.pause(),this.hideTween.restart())}),t)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hideDelayTimer&&clearTimeout(this.hideDelayTimer),this.showDelayTimer=setTimeout((()=>{["hidding","hidden"].includes(this.state)&&"showing"!==this.state&&(this.showDelayTimer=null,this.hideTween.pause(),this.state="showing",this.showTween.restart())}),t)}}var F=z("A"),J=z("B"),K=z("C"),Q=z("D"),Z=z("E");class tt{get drawerIsOpen(){return q(this,F)[F]}set drawerIsOpen(t){q(this,F)[F]=t}get lastWindowScrollDirection(){return q(this,J)[J]}set lastWindowScrollDirection(t){q(this,J)[J]=t}get lastScrollDirection(){return q(this,K)[K]}set lastScrollDirection(t){q(this,K)[K]=t}get hiddenOnRefClick(){return q(this,Q)[Q]}set hiddenOnRefClick(t){q(this,Q)[Q]=t}get mediaMathes(){return q(this,Z)[Z]}set mediaMathes(t){q(this,Z)[Z]=t}constructor(t){this.currentSection=(E(this),null),this.lastScrollDirection=null,this.navIsHidden=!1,Object.defineProperty(this,F,{writable:!0,value:j(this)}),Object.defineProperty(this,J,{writable:!0,value:W(this)}),Object.defineProperty(this,K,{writable:!0,value:I(this)}),Object.defineProperty(this,Q,{writable:!0,value:H(this)}),Object.defineProperty(this,Z,{writable:!0,value:V(this)}),this.moreWorks=t,this.init()}init(){this.toggleBtn=new $,this.selectDomElems(),this.buildSectionsMap(),this.initMediaMatch(),this.initSectionTriggers(),this.initAnimations(),this.initHideOnRefClick(),this.initScrollTriggers(),this.drawer=window.app.drawers.get("work-details"),this.drawer.on("open",(()=>this.markDrawerIsOpen(!0))),this.drawer.on("close",(()=>this.markDrawerIsOpen(!1))),setTimeout((()=>this.initRelatedLogic()),0)}markDrawerIsOpen(t){this.drawerIsOpen=t}setLastWindowScrollDirection(t){this.lastWindowScrollDirection=t}setLastScrollDirection(t){this.lastScrollDirection=t}setHiddenOnRefClick(t){this.hiddenOnRefClick=t}setMediaMatches(t){this.mediaMathes=t}initMediaMatch(){this.mediaMatch=matchMedia("(max-width: 1024px)"),this.mediaMatch.addListener((t=>{let{matches:e}=t;return this.setMediaMatches(e)})),this.setMediaMatches(this.mediaMatch.matches)}initRelatedLogic(){X((()=>["open","opening"].includes(window.submenu.panelState)||!this.drawerIsOpen&&(window.footer.visible||this.moreWorks.inView)||!this.drawerIsOpen&&"down"===this.lastWindowScrollDirection?this.hideToggleBtn():void this.showToggleBtn())),X((()=>{if(this.drawerIsOpen)return this.mediaMathes&&"down"===this.lastScrollDirection||this.hiddenOnRefClick?this.hideAllNav():void this.showAllNav()}))}selectDomElems(){this.dom={root:document.querySelector('[data-drawer="work-details"]')},this.dom.toggleBtn=document.querySelector("#details-open-close-btn"),this.dom.anchors=Array.from(this.dom.root.querySelectorAll(".work-details-content-section__anchor")),this.dom.navRefs=Array.from(this.dom.root.querySelectorAll(".article-nav-ref")),this.dom.panel=this.dom.root.querySelector('[data-elem="drawer.panel"]'),this.dom.content=this.dom.root.querySelector(".work-details__content")}hideToggleBtn(){this.toggleBtn.hide(0)}showToggleBtn(){this.toggleBtn.show(400)}initScrollTriggers(){ScrollTrigger.observe({target:"#detail-panel",type:"scroll",onUp:()=>this.setLastScrollDirection("up"),onDown:()=>{this.setLastScrollDirection("down"),this.setHiddenOnRefClick(!1)}}),ScrollTrigger.observe({target:"#detail-panel",type:"wheel, touch, pointer",onUp:()=>this.setHiddenOnRefClick(!1)}),ScrollTrigger.observe({target:window,type:"scroll",onUp:()=>this.setLastWindowScrollDirection("up"),onDown:()=>this.setLastWindowScrollDirection("down")})}buildSectionsMap(){this.sectionsMap={},this.dom.anchors.forEach((t=>{this.sectionsMap[t.getAttribute("id")]=t.closest(".work-details-content-section")}))}initSectionTriggers(){const t=new ResizeObserver(R((()=>this.recalcCurrentSection()),25));this.dom.panel.addEventListener("scroll",R((()=>this.recalcCurrentSection()),25)),t.observe(this.dom.content)}initHideOnRefClick(){this.dom.panel.addEventListener("click",(t=>{let{target:e}=t;this.mediaMatch.matches&&e.matches(".article-nav-ref, .article-nav-ref *")&&this.setHiddenOnRefClick(!0)}))}recalcCurrentSection(){const t=this.dom.anchors.find((t=>{const e=t.getAttribute("id"),i=t.getBoundingClientRect(),r=this.sectionsMap[e].getBoundingClientRect(),o=r.top-i.top;return i.top<=o&&r.bottom>=o}));t!==this.currentSection&&(this.currentSection instanceof Element&&this.setNavRefInactive(this.currentSection.getAttribute("id")),this.currentSection=t,this.currentSection instanceof Element&&this.setNavRefActive(this.currentSection.getAttribute("id")))}getNavRef(t){return this.dom.navRefs.find((e=>e.matches('[href="#'.concat(t,'"]'))))}setNavRefActive(t){const e=this.getNavRef(t);e&&e.classList.add("active")}setNavRefInactive(t){const e=this.getNavRef(t);e&&e.classList.remove("active")}hideAllNav(){this.navIsHidden||(this.showTimeline.pause(),this.hideTimeline.restart(),this.navIsHidden=!0)}showAllNav(){this.navIsHidden&&(this.hideTimeline.pause(),this.showTimeline.restart(),this.navIsHidden=!1)}initAnimations(){this.createShowTimeline(),this.createHideTimeline()}createHideTimeline(){const t=gsap.fromTo("#article-nav .article-nav__body",{translateY:"0"},{translateY:"-100%",ease:"back.inOut(2)",duration:.4}),e=gsap.fromTo("#article-nav",{"--bg-opacity":.98},{duration:.2,"--bg-opacity":0}),i=gsap.timeline();i.pause(),i.add((()=>this.toggleBtn.hide()),0),i.add(t,.2),i.add(e,.4),this.hideTimeline=i}createShowTimeline(){const t=gsap.fromTo("#article-nav .article-nav__body",{translateY:"-100%"},{translateY:"0",ease:"back.out(1)",duration:.4}),e=gsap.fromTo("#article-nav",{"--bg-opacity":0},{duration:.2,"--bg-opacity":.98}),i=gsap.timeline();i.pause(),i.add(e,0),i.add((()=>this.toggleBtn.show()),.2),i.add(t,.4),this.showTimeline=i}}D=tt,[j,W,I,H,V,E]=function(t,e,i,r,o,n){function s(t,e,i){return function(r,o){return i&&i(r),t[e].call(r,o)}}function a(t,e){for(var i=0;i<t.length;i++)t[i].call(e);return e}function c(t,e,i,r){if("function"!=typeof t&&(r||void 0!==t))throw new TypeError(e+" must "+(i||"be")+" a function"+(r?"":" or undefined"));return t}function l(t,e,i,r,o,n,a,l,d,h,u,p,m){function f(t){if(!m(t))throw new TypeError("Attempted to access private element on non-instance")}var g,w=e[0],v=e[3],y=!l;if(!y){i||Array.isArray(w)||(w=[w]);var b={},S=[],T=3===o?"get":4===o||p?"set":"value";h?(u||p?b={get:_((function(){return v(this)}),r,"get"),set:function(t){e[4](this,t)}}:b[T]=v,u||_(b[T],r,2===o?"":T)):u||(b=Object.getOwnPropertyDescriptor(t,r))}for(var O=t,x=w.length-1;x>=0;x-=i?2:1){var P=w[x],A=i?w[x-1]:void 0,M={},k={kind:["field","accessor","method","getter","setter","class"][o],name:r,metadata:n,addInitializer:function(t,e){if(t.v)throw Error("attempted to call addInitializer after decoration was finished");c(e,"An initializer","be",!0),a.push(e)}.bind(null,M)};try{if(y)(g=c(P.call(A,O,k),"class decorators","return"))&&(O=g);else{var C,D;k.static=d,k.private=h,h?2===o?C=function(t){return f(t),b.value}:(o<4&&(C=s(b,"get",f)),3!==o&&(D=s(b,"set",f))):(C=function(t){return t[r]},(o<2||4===o)&&(D=function(t,e){t[r]=e}));var R=k.access={has:h?m.bind():function(t){return r in t}};if(C&&(R.get=C),D&&(R.set=D),O=P.call(A,p?{get:b.get,set:b.set}:b[T],k),p){if("object"==typeof O&&O)(g=c(O.get,"accessor.get"))&&(b.get=g),(g=c(O.set,"accessor.set"))&&(b.set=g),(g=c(O.init,"accessor.init"))&&S.push(g);else if(void 0!==O)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0")}else c(O,(u?"field":"method")+" decorators","return")&&(u?S.push(O):b[T]=O)}}finally{M.v=!0}}return(u||p)&&l.push((function(t,e){for(var i=S.length-1;i>=0;i--)e=S[i].call(t,e);return e})),u||y||(h?p?l.push(s(b,"get"),s(b,"set")):l.push(2===o?b[T]:s.call.bind(b[T])):Object.defineProperty(t,r,b)),O}function d(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}if(arguments.length>=6)var h=n[Symbol.metadata||Symbol.for("Symbol.metadata")];var u=Object.create(null==h?null:h),p=function(t,e,i,r){var o,n,s=[],c=function(e){return function(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?typeof t:"null"));return t}(e)===t},d=new Map;function h(t){t&&s.push(a.bind(null,t))}for(var u=0;u<e.length;u++){var p=e[u];if(Array.isArray(p)){var m=p[1],f=p[2],g=p.length>3,w=16&m,v=!!(8&m),y=0==(m&=7),b=f+"/"+v;if(!y&&!g){var S=d.get(b);if(!0===S||3===S&&4!==m||4===S&&3!==m)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+f);d.set(b,!(m>2)||m)}l(v?t:t.prototype,p,w,g?"#"+f:B(f),m,r,v?n=n||[]:o=o||[],s,v,g,y,1===m,v&&g?c:i)}}return h(o),h(n),s}(t,e,o,u);return i.length||d(t,u),{e:p,get c(){var e=[];return i.length&&[d(l(t,[i],r,t.name,5,u,e),u),a.bind(null,e,t)]}}}(D,[[G,1,"drawerIsOpen"],[G,1,"lastWindowScrollDirection"],[G,1,"lastScrollDirection"],[G,1,"hiddenOnRefClick"],[G,1,"mediaMathes"],[N,2,"markDrawerIsOpen"],[N,2,"setLastWindowScrollDirection"],[N,2,"setLastScrollDirection"],[N,2,"setHiddenOnRefClick"],[N,2,"setMediaMatches"]],[]).e})()})();